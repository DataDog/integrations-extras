{
  "title": "Starburst Galaxy",
  "description": "Monitor query execution, performance, and resource utilization across your Starburst Galaxy clusters",
  "widgets": [
    {
      "id": 1,
      "definition": {
        "type": "note",
        "content": "![Starburst Galaxy](https://galaxy.starburst.io/images/light/starburst_galaxy_logo.light.svg)\n\nReal-time monitoring of your analytics infrastructure with comprehensive metrics for query execution and cluster performance.",
        "background_color": "white",
        "font_size": "16",
        "text_align": "left",
        "vertical_align": "center",
        "show_tick": false,
        "has_padding": true
      },
      "layout": {
        "x": 0,
        "y": 0,
        "width": 12,
        "height": 2
      }
    },
    {
      "id": 2,
      "definition": {
        "title": "Query Execution Overview",
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 1442897157404352,
            "definition": {
              "title": "Running Queries",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:starburst_galaxy.io_starburst_galaxy_name_GalaxyMetrics_RunningQueries{$account_id,$warehouse_id} by {warehouse_id}"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "scale": "linear",
                "include_zero": true,
                "min": "0"
              }
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 6,
              "height": 3
            }
          },
          {
            "id": 4416967805296163,
            "definition": {
              "title": "Queued Queries",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:starburst_galaxy.io_starburst_galaxy_name_GalaxyMetrics_QueuedQueries{$account_id,$warehouse_id} by {warehouse_id}"
                    }
                  ],
                  "style": {
                    "palette": "warm",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "scale": "linear",
                "include_zero": true,
                "min": "0"
              }
            },
            "layout": {
              "x": 6,
              "y": 0,
              "width": 6,
              "height": 3
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 2,
        "width": 12,
        "height": 4
      }
    },
    {
      "id": 3,
      "definition": {
        "title": "Query Outcomes",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 6568784185151001,
            "definition": {
              "title": "Completed Queries (rate)",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:starburst_galaxy.io_starburst_galaxy_name_GalaxyMetrics_CompletedQueries{$account_id,$warehouse_id} by {warehouse_id}.as_rate()"
                    }
                  ],
                  "style": {
                    "palette": "green",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "scale": "linear",
                "include_zero": true,
                "min": "0"
              }
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 4,
              "height": 3
            }
          },
          {
            "id": 3191237224200499,
            "definition": {
              "title": "Failed Queries (rate)",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:starburst_galaxy.io_starburst_galaxy_name_GalaxyMetrics_FailedQueries{$account_id,$warehouse_id} by {warehouse_id}.as_rate()"
                    }
                  ],
                  "style": {
                    "palette": "red",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "scale": "linear",
                "include_zero": true,
                "min": "0"
              }
            },
            "layout": {
              "x": 4,
              "y": 0,
              "width": 4,
              "height": 3
            }
          },
          {
            "id": 7581930015924424,
            "definition": {
              "title": "Canceled Queries (rate)",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:starburst_galaxy.io_starburst_galaxy_name_GalaxyMetrics_CanceledQueries{$account_id,$warehouse_id} by {warehouse_id}.as_rate()"
                    }
                  ],
                  "style": {
                    "palette": "orange",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "scale": "linear",
                "include_zero": true,
                "min": "0"
              }
            },
            "layout": {
              "x": 8,
              "y": 0,
              "width": 4,
              "height": 3
            }
          },
          {
            "id": 4656499514608844,
            "definition": {
              "title": "Running Queries",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:starburst_galaxy.io_starburst_galaxy_name_GalaxyMetrics_RunningQueries{$account_id,$warehouse_id}",
                      "aggregator": "last"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 0
            },
            "layout": {
              "x": 0,
              "y": 3,
              "width": 2,
              "height": 2
            }
          },
          {
            "id": 7212428615138824,
            "definition": {
              "title": "Queued Queries",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:starburst_galaxy.io_starburst_galaxy_name_GalaxyMetrics_QueuedQueries{$account_id,$warehouse_id}",
                      "aggregator": "last"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 0
            },
            "layout": {
              "x": 2,
              "y": 3,
              "width": 2,
              "height": 2
            }
          },
          {
            "id": 4232125562867589,
            "definition": {
              "title": "Total Completed",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:starburst_galaxy.io_starburst_galaxy_name_GalaxyMetrics_CompletedQueries{$account_id,$warehouse_id}.as_count()",
                      "aggregator": "sum"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 0
            },
            "layout": {
              "x": 4,
              "y": 3,
              "width": 2,
              "height": 2
            }
          },
          {
            "id": 5179152441379873,
            "definition": {
              "title": "Total Failed",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:starburst_galaxy.io_starburst_galaxy_name_GalaxyMetrics_FailedQueries{$account_id,$warehouse_id}.as_count()",
                      "aggregator": "sum"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 0
            },
            "layout": {
              "x": 6,
              "y": 3,
              "width": 2,
              "height": 2
            }
          },
          {
            "id": 5393665379538299,
            "definition": {
              "title": "Internal Failures",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:starburst_galaxy.io_starburst_galaxy_name_GalaxyMetrics_InternalFailures{$account_id,$warehouse_id}.as_count()",
                      "aggregator": "sum"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 0
            },
            "layout": {
              "x": 8,
              "y": 3,
              "width": 2,
              "height": 2
            }
          },
          {
            "id": 3272712279426773,
            "definition": {
              "title": "User Error Failures",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:starburst_galaxy.io_starburst_galaxy_name_GalaxyMetrics_UserErrorFailures{$account_id,$warehouse_id}.as_count()",
                      "aggregator": "sum"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 0
            },
            "layout": {
              "x": 10,
              "y": 3,
              "width": 2,
              "height": 2
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 6,
        "width": 12,
        "height": 6
      }
    },
    {
      "id": 4,
      "definition": {
        "title": "Query Performance",
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 8437890682508285,
            "definition": {
              "title": "Query Execution Time (p50, p95, p99)",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "max",
                "value"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:starburst_galaxy.io_starburst_galaxy_name_GalaxyMetrics_ExecutionTime.quantile{$account_id,$warehouse_id,quantile:0.5}"
                    }
                  ],
                  "formulas": [
                    {
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "millisecond"
                        }
                      },
                      "alias": "p50",
                      "formula": "query1"
                    }
                  ],
                  "style": {
                    "palette": "purple",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                },
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "avg:starburst_galaxy.io_starburst_galaxy_name_GalaxyMetrics_ExecutionTime.quantile{$account_id,$warehouse_id,quantile:0.95}"
                    }
                  ],
                  "formulas": [
                    {
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "millisecond"
                        }
                      },
                      "alias": "p95",
                      "formula": "query2"
                    }
                  ],
                  "style": {
                    "palette": "orange",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                },
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "avg:starburst_galaxy.io_starburst_galaxy_name_GalaxyMetrics_ExecutionTime.quantile{$account_id,$warehouse_id,quantile:0.99}"
                    }
                  ],
                  "formulas": [
                    {
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "millisecond"
                        }
                      },
                      "alias": "p99",
                      "formula": "query3"
                    }
                  ],
                  "style": {
                    "palette": "warm",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "scale": "linear",
                "include_zero": true,
                "min": "0"
              }
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 6,
              "height": 3
            }
          },
          {
            "id": 4232560539082969,
            "definition": {
              "title": "Query Queued Time (p50, p95, p99)",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "max",
                "value"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:starburst_galaxy.io_starburst_galaxy_name_GalaxyMetrics_QueuedTime.quantile{$account_id,$warehouse_id,quantile:0.5}"
                    }
                  ],
                  "formulas": [
                    {
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "millisecond"
                        }
                      },
                      "alias": "p50",
                      "formula": "query1"
                    }
                  ],
                  "style": {
                    "palette": "cool",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                },
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "avg:starburst_galaxy.io_starburst_galaxy_name_GalaxyMetrics_QueuedTime.quantile{$account_id,$warehouse_id,quantile:0.95}"
                    }
                  ],
                  "formulas": [
                    {
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "millisecond"
                        }
                      },
                      "alias": "p95",
                      "formula": "query2"
                    }
                  ],
                  "style": {
                    "palette": "orange",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                },
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "avg:starburst_galaxy.io_starburst_galaxy_name_GalaxyMetrics_QueuedTime.quantile{$account_id,$warehouse_id,quantile:0.99}"
                    }
                  ],
                  "formulas": [
                    {
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "millisecond"
                        }
                      },
                      "alias": "p99",
                      "formula": "query3"
                    }
                  ],
                  "style": {
                    "palette": "warm",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "scale": "linear",
                "include_zero": true,
                "min": "0"
              }
            },
            "layout": {
              "x": 6,
              "y": 0,
              "width": 6,
              "height": 3
            }
          },
          {
            "id": 8637180345381225,
            "definition": {
              "title": "Avg Execution Time",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:starburst_galaxy.io_starburst_galaxy_name_GalaxyMetrics_ExecutionTime.sum{$account_id,$warehouse_id}",
                      "aggregator": "avg"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "avg:starburst_galaxy.io_starburst_galaxy_name_GalaxyMetrics_ExecutionTime.count{$account_id,$warehouse_id}",
                      "aggregator": "avg"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1 / query2",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "millisecond"
                        }
                      }
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 2
            },
            "layout": {
              "x": 0,
              "y": 3,
              "width": 3,
              "height": 2
            }
          },
          {
            "id": 1403083709393309,
            "definition": {
              "title": "Avg Queued Time",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:starburst_galaxy.io_starburst_galaxy_name_GalaxyMetrics_QueuedTime.sum{$account_id,$warehouse_id}",
                      "aggregator": "avg"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "avg:starburst_galaxy.io_starburst_galaxy_name_GalaxyMetrics_QueuedTime.count{$account_id,$warehouse_id}",
                      "aggregator": "avg"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1 / query2",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "millisecond"
                        }
                      }
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 2
            },
            "layout": {
              "x": 3,
              "y": 3,
              "width": 3,
              "height": 2
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 12,
        "width": 12,
        "height": 6
      }
    },
    {
      "id": 5,
      "definition": {
        "title": "Resource Utilization",
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 2754219599613523,
            "definition": {
              "title": "Memory Utilization (%)",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "max",
                "value"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:starburst_galaxy.io_starburst_galaxy_name_GalaxyMetrics_FreeDistributedBytes{$account_id,$warehouse_id} by {warehouse_id}"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "avg:starburst_galaxy.io_starburst_galaxy_name_GalaxyMetrics_TotalDistributedBytes{$account_id,$warehouse_id} by {warehouse_id}"
                    }
                  ],
                  "formulas": [
                    {
                      "alias": "Memory Utilization",
                      "formula": "(1 - (query1 / query2)) * 100"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "scale": "linear",
                "include_zero": true,
                "min": "0",
                "max": "100"
              }
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 9,
              "height": 3
            }
          },
          {
            "id": 4736098053359294,
            "definition": {
              "title": "Memory Utilization",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:starburst_galaxy.io_starburst_galaxy_name_GalaxyMetrics_FreeDistributedBytes{$account_id,$warehouse_id}",
                      "aggregator": "avg"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "avg:starburst_galaxy.io_starburst_galaxy_name_GalaxyMetrics_TotalDistributedBytes{$account_id,$warehouse_id}",
                      "aggregator": "avg"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "(1 - (query1 / query2)) * 100"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "custom_unit": "%",
              "precision": 1
            },
            "layout": {
              "x": 9,
              "y": 0,
              "width": 3,
              "height": 3
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 18,
        "width": 12,
        "height": 4
      }
    }
  ],
  "template_variables": [
    {
      "name": "account_id",
      "prefix": "account_id",
      "available_values": [],
      "default": "*"
    },
    {
      "name": "warehouse_id",
      "prefix": "warehouse_id",
      "available_values": [],
      "default": "*"
    }
  ],
  "layout_type": "ordered",
  "notify_list": [],
  "reflow_type": "fixed"
}