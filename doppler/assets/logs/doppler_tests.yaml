id: doppler
tests:
  - sample: >-
      {
        "ddsource": "doppler",
        "createdAt": "2024-07-02T14:24:51.920Z",
        "link": "https://dashboard.doppler.com/workplace/30bd9e7d881446ce1bf8/logs?id=wpmULcSfO9sNxKdVUeaO0HK2",
        "type": "services.datadog.connect",
        "title": "Activity Log: wpmULcSfO9sNxKdVUeaO0HK2",
        "user": {
          "name": "Nic Manoogian",
          "profile_image_url": "https://www.gravatar.com/avatar/7f447a6cfe4f594f91c149b9c9ca872d?s=500&d=retro",
          "email": "nic.manoogian@doppler.com",
          "username": "nic"
        },
        "workplace": {
          "name": "Rocketship Co",
          "id": "30bd9e7d881446ce1bf8"
        },
        "slug": "wpmULcSfO9sNxKdVUeaO0HK2"
      }
    result:
      custom:
        createdAt: "2024-07-02T14:24:51.920Z"
        ddsource: "doppler"
        link: "https://dashboard.doppler.com/workplace/30bd9e7d881446ce1bf8/logs?id=wpmULcSfO9sNxKdVUeaO0HK2"
        slug: "wpmULcSfO9sNxKdVUeaO0HK2"
        title: "Activity Log: wpmULcSfO9sNxKdVUeaO0HK2"
        type: "services.datadog.connect"
        user:
          profile_image_url: "https://www.gravatar.com/avatar/7f447a6cfe4f594f91c149b9c9ca872d?s=500&d=retro"
          username: "nic"
        usr:
          email: "nic.manoogian@doppler.com"
          name: "Nic Manoogian"
        workplace:
          id: "30bd9e7d881446ce1bf8"
          name: "Rocketship Co"
      message: |-
        {
          "createdAt" : "2024-07-02T14:24:51.920Z",
          "link" : "https://dashboard.doppler.com/workplace/30bd9e7d881446ce1bf8/logs?id=wpmULcSfO9sNxKdVUeaO0HK2",
          "type" : "services.datadog.connect",
          "title" : "Activity Log: wpmULcSfO9sNxKdVUeaO0HK2",
          "user" : {
            "name" : "Nic Manoogian",
            "profile_image_url" : "https://www.gravatar.com/avatar/7f447a6cfe4f594f91c149b9c9ca872d?s=500&d=retro",
            "email" : "nic.manoogian@doppler.com",
            "username" : "nic"
          },
          "workplace" : {
            "name" : "Rocketship Co",
            "id" : "30bd9e7d881446ce1bf8"
          },
          "ddsource" : "doppler",
          "slug" : "wpmULcSfO9sNxKdVUeaO0HK2"
        }
      tags:
        - "source:LOGS_SOURCE"
      timestamp: 1719930291920
  - sample: >-
      {
        "ddsource": "doppler",
        "createdAt": "2024-07-02T14:25:02.812Z",
        "metadata": {
          "projectUrl": "https://dashboard.doppler.com/workplace/30bd9e7d881446ce1bf8/projects/payments",
          "projectName": "payments",
          "projectId": "payments"
        },
        "link": "https://dashboard.doppler.com/workplace/30bd9e7d881446ce1bf8/logs?id=fOypzrlnQ6H3OMLq6RV12ZMO",
        "type": "enclave.project.create",
        "title": "Activity Log: fOypzrlnQ6H3OMLq6RV12ZMO",
        "user": {
          "name": "Nic Manoogian",
          "profile_image_url": "https://www.gravatar.com/avatar/7f447a6cfe4f594f91c149b9c9ca872d?s=500&d=retro",
          "email": "nic.manoogian@doppler.com",
          "username": "nic"
        },
        "workplace": {
          "name": "Rocketship Co",
          "id": "30bd9e7d881446ce1bf8"
        },
        "slug": "fOypzrlnQ6H3OMLq6RV12ZMO"
      }
    result:
      custom:
        createdAt: "2024-07-02T14:25:02.812Z"
        ddsource: "doppler"
        link: "https://dashboard.doppler.com/workplace/30bd9e7d881446ce1bf8/logs?id=fOypzrlnQ6H3OMLq6RV12ZMO"
        metadata:
          projectId: "payments"
          projectName: "payments"
          projectUrl: "https://dashboard.doppler.com/workplace/30bd9e7d881446ce1bf8/projects/payments"
        slug: "fOypzrlnQ6H3OMLq6RV12ZMO"
        title: "Activity Log: fOypzrlnQ6H3OMLq6RV12ZMO"
        type: "enclave.project.create"
        user:
          profile_image_url: "https://www.gravatar.com/avatar/7f447a6cfe4f594f91c149b9c9ca872d?s=500&d=retro"
          username: "nic"
        usr:
          email: "nic.manoogian@doppler.com"
          name: "Nic Manoogian"
        workplace:
          id: "30bd9e7d881446ce1bf8"
          name: "Rocketship Co"
      message: |-
        {
          "createdAt" : "2024-07-02T14:25:02.812Z",
          "metadata" : {
            "projectUrl" : "https://dashboard.doppler.com/workplace/30bd9e7d881446ce1bf8/projects/payments",
            "projectName" : "payments",
            "projectId" : "payments"
          },
          "link" : "https://dashboard.doppler.com/workplace/30bd9e7d881446ce1bf8/logs?id=fOypzrlnQ6H3OMLq6RV12ZMO",
          "type" : "enclave.project.create",
          "title" : "Activity Log: fOypzrlnQ6H3OMLq6RV12ZMO",
          "user" : {
            "name" : "Nic Manoogian",
            "profile_image_url" : "https://www.gravatar.com/avatar/7f447a6cfe4f594f91c149b9c9ca872d?s=500&d=retro",
            "email" : "nic.manoogian@doppler.com",
            "username" : "nic"
          },
          "workplace" : {
            "name" : "Rocketship Co",
            "id" : "30bd9e7d881446ce1bf8"
          },
          "ddsource" : "doppler",
          "slug" : "fOypzrlnQ6H3OMLq6RV12ZMO"
        }
      tags:
        - "source:LOGS_SOURCE"
      timestamp: 1719930302812
  - sample: >-
      {
        "ddsource": "doppler",
        "createdAt": "2024-07-02T14:25:14.172Z",
        "metadata": {
          "configName": "dev",
          "configUrl": "https://dashboard.doppler.com/workplace/30bd9e7d881446ce1bf8/projects/payments/configs/dev",
          "projectUrl": "https://dashboard.doppler.com/workplace/30bd9e7d881446ce1bf8/projects/payments",
          "diffUrl": "https://dashboard.doppler.com/workplace/30bd9e7d881446ce1bf8/projects/payments/configs/dev/logs?id=H0wdEmtL0hJtzpPjoL7d6GXx",
          "diff": {
            "added": [
              "STRIPE_API_KEY"
            ]
          },
          "projectName": "payments",
          "projectId": "payments"
        },
        "link": "https://dashboard.doppler.com/workplace/30bd9e7d881446ce1bf8/logs?id=Z3XK3tynBCd3u7bzBKJS6ntN",
        "type": "enclave.project.config.secrets.update",
        "title": "Activity Log: Z3XK3tynBCd3u7bzBKJS6ntN",
        "user": {
          "name": "Nic Manoogian",
          "profile_image_url": "https://www.gravatar.com/avatar/7f447a6cfe4f594f91c149b9c9ca872d?s=500&d=retro",
          "email": "nic.manoogian@doppler.com",
          "username": "nic"
        },
        "workplace": {
          "name": "Rocketship Co",
          "id": "30bd9e7d881446ce1bf8"
        },
        "slug": "Z3XK3tynBCd3u7bzBKJS6ntN"
      }
    result:
      custom:
        createdAt: "2024-07-02T14:25:14.172Z"
        ddsource: "doppler"
        link: "https://dashboard.doppler.com/workplace/30bd9e7d881446ce1bf8/logs?id=Z3XK3tynBCd3u7bzBKJS6ntN"
        metadata:
          configName: "dev"
          configUrl: "https://dashboard.doppler.com/workplace/30bd9e7d881446ce1bf8/projects/payments/configs/dev"
          diff:
            added:
              - "STRIPE_API_KEY"
          diffUrl: "https://dashboard.doppler.com/workplace/30bd9e7d881446ce1bf8/projects/payments/configs/dev/logs?id=H0wdEmtL0hJtzpPjoL7d6GXx"
          projectId: "payments"
          projectName: "payments"
          projectUrl: "https://dashboard.doppler.com/workplace/30bd9e7d881446ce1bf8/projects/payments"
        slug: "Z3XK3tynBCd3u7bzBKJS6ntN"
        title: "Activity Log: Z3XK3tynBCd3u7bzBKJS6ntN"
        type: "enclave.project.config.secrets.update"
        user:
          profile_image_url: "https://www.gravatar.com/avatar/7f447a6cfe4f594f91c149b9c9ca872d?s=500&d=retro"
          username: "nic"
        usr:
          email: "nic.manoogian@doppler.com"
          name: "Nic Manoogian"
        workplace:
          id: "30bd9e7d881446ce1bf8"
          name: "Rocketship Co"
      message: |-
        {
          "createdAt" : "2024-07-02T14:25:14.172Z",
          "metadata" : {
            "configName" : "dev",
            "configUrl" : "https://dashboard.doppler.com/workplace/30bd9e7d881446ce1bf8/projects/payments/configs/dev",
            "projectUrl" : "https://dashboard.doppler.com/workplace/30bd9e7d881446ce1bf8/projects/payments",
            "diffUrl" : "https://dashboard.doppler.com/workplace/30bd9e7d881446ce1bf8/projects/payments/configs/dev/logs?id=H0wdEmtL0hJtzpPjoL7d6GXx",
            "diff" : {
              "added" : [ "STRIPE_API_KEY" ]
            },
            "projectName" : "payments",
            "projectId" : "payments"
          },
          "link" : "https://dashboard.doppler.com/workplace/30bd9e7d881446ce1bf8/logs?id=Z3XK3tynBCd3u7bzBKJS6ntN",
          "type" : "enclave.project.config.secrets.update",
          "title" : "Activity Log: Z3XK3tynBCd3u7bzBKJS6ntN",
          "user" : {
            "name" : "Nic Manoogian",
            "profile_image_url" : "https://www.gravatar.com/avatar/7f447a6cfe4f594f91c149b9c9ca872d?s=500&d=retro",
            "email" : "nic.manoogian@doppler.com",
            "username" : "nic"
          },
          "workplace" : {
            "name" : "Rocketship Co",
            "id" : "30bd9e7d881446ce1bf8"
          },
          "ddsource" : "doppler",
          "slug" : "Z3XK3tynBCd3u7bzBKJS6ntN"
        }
      tags:
        - "source:LOGS_SOURCE"
      timestamp: 1719930314172
  - sample: >-
      {
        "ddsource": "doppler",
        "createdAt": "2024-07-02T14:25:51.870Z",
        "metadata": {
          "oldWorkplaceRole": "collaborator",
          "newWorkplaceRole": "admin"
        },
        "link": "https://dashboard.doppler.com/workplace/30bd9e7d881446ce1bf8/logs?id=fcClWl8kGawkw9I7fm4MlCYs",
        "type": "team.seat.update",
        "title": "Activity Log: fcClWl8kGawkw9I7fm4MlCYs",
        "user": {
          "name": "Nic Manoogian",
          "profile_image_url": "https://www.gravatar.com/avatar/7f447a6cfe4f594f91c149b9c9ca872d?s=500&d=retro",
          "email": "nic.manoogian@doppler.com",
          "username": "nic"
        },
        "workplace": {
          "name": "Rocketship Co",
          "id": "30bd9e7d881446ce1bf8"
        },
        "slug": "fcClWl8kGawkw9I7fm4MlCYs"
      }
    result:
      custom:
        createdAt: "2024-07-02T14:25:51.870Z"
        ddsource: "doppler"
        link: "https://dashboard.doppler.com/workplace/30bd9e7d881446ce1bf8/logs?id=fcClWl8kGawkw9I7fm4MlCYs"
        metadata:
          newWorkplaceRole: "admin"
          oldWorkplaceRole: "collaborator"
        slug: "fcClWl8kGawkw9I7fm4MlCYs"
        title: "Activity Log: fcClWl8kGawkw9I7fm4MlCYs"
        type: "team.seat.update"
        user:
          profile_image_url: "https://www.gravatar.com/avatar/7f447a6cfe4f594f91c149b9c9ca872d?s=500&d=retro"
          username: "nic"
        usr:
          email: "nic.manoogian@doppler.com"
          name: "Nic Manoogian"
        workplace:
          id: "30bd9e7d881446ce1bf8"
          name: "Rocketship Co"
      message: |-
        {
          "createdAt" : "2024-07-02T14:25:51.870Z",
          "metadata" : {
            "oldWorkplaceRole" : "collaborator",
            "newWorkplaceRole" : "admin"
          },
          "link" : "https://dashboard.doppler.com/workplace/30bd9e7d881446ce1bf8/logs?id=fcClWl8kGawkw9I7fm4MlCYs",
          "type" : "team.seat.update",
          "title" : "Activity Log: fcClWl8kGawkw9I7fm4MlCYs",
          "user" : {
            "name" : "Nic Manoogian",
            "profile_image_url" : "https://www.gravatar.com/avatar/7f447a6cfe4f594f91c149b9c9ca872d?s=500&d=retro",
            "email" : "nic.manoogian@doppler.com",
            "username" : "nic"
          },
          "workplace" : {
            "name" : "Rocketship Co",
            "id" : "30bd9e7d881446ce1bf8"
          },
          "ddsource" : "doppler",
          "slug" : "fcClWl8kGawkw9I7fm4MlCYs"
        }
      tags:
        - "source:LOGS_SOURCE"
      timestamp: 1719930351870
