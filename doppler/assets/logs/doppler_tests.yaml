id: doppler
tests:
  - sample: >-
      {
      	"id": "AgAAAZBz1YbQUUQE9gAAAAAAAAAYAAAAAEFaQnoxWW1sQUFCZEFSODQwUmdqSWdBQQAAACQAAAAAMDE5MDczZDUtYjJmOS00OTYwLTgyMTgtZDUyZmJlN2U1OTcz",
      	"content": {
      		"timestamp": "2024-07-02T14:24:51.920Z",
      		"tags": [
      			"source:doppler",
      			"datadog.submission_auth:api_key"
      		],
      		"message": "Connected Datadog service",
      		"attributes": {
      			"createdAt": "2024-07-02T14:24:51.920Z",
      			"usr": {
      				"name": "Nic Manoogian",
      				"email": "nic.manoogian@doppler.com"
      			},
      			"link": "https://dashboard.doppler.com/workplace/30bd9e7d881446ce1bf8/logs?id=wpmULcSfO9sNxKdVUeaO0HK2",
      			"type": "services.datadog.connect",
      			"title": "Activity Log: wpmULcSfO9sNxKdVUeaO0HK2",
      			"user": {
      				"name": "Nic Manoogian",
      				"profile_image_url": "https://www.gravatar.com/avatar/7f447a6cfe4f594f91c149b9c9ca872d?s=500&d=retro",
      				"email": "nic.manoogian@doppler.com",
      				"username": "nic"
      			},
      			"workplace": {
      				"name": "Rocketship Co",
      				"id": "30bd9e7d881446ce1bf8"
      			},
      			"slug": "wpmULcSfO9sNxKdVUeaO0HK2"
      		}
      	}
      }
    result: null
  - sample: >-
      {
      	"id": "AgAAAZBz1bFc0Oa1TAAAAAAAAAAYAAAAAEFaQnoxYlR1QUFDR0pPTkEtTWZiN1FBQQAAACQAAAAAMDE5MDczZDUtYjJmOS00OTYwLTgyMTgtZDUyZmJlN2U1OTcz",
      	"content": {
      		"timestamp": "2024-07-02T14:25:02.812Z",
      		"tags": [
      			"source:doppler",
      			"datadog.submission_auth:api_key"
      		],
      		"message": "Created <a href=\"https://dashboard.doppler.com/workplace/30bd9e7d881446ce1bf8/projects/payments\" rel=\"noopener\" class=\"text-purple-500 hover:underline\">payments</a> project",
      		"attributes": {
      			"createdAt": "2024-07-02T14:25:02.812Z",
      			"metadata": {
      				"projectUrl": "https://dashboard.doppler.com/workplace/30bd9e7d881446ce1bf8/projects/payments",
      				"projectName": "payments",
      				"projectId": "payments"
      			},
      			"usr": {
      				"name": "Nic Manoogian",
      				"email": "nic.manoogian@doppler.com"
      			},
      			"link": "https://dashboard.doppler.com/workplace/30bd9e7d881446ce1bf8/logs?id=fOypzrlnQ6H3OMLq6RV12ZMO",
      			"type": "enclave.project.create",
      			"title": "Activity Log: fOypzrlnQ6H3OMLq6RV12ZMO",
      			"user": {
      				"name": "Nic Manoogian",
      				"profile_image_url": "https://www.gravatar.com/avatar/7f447a6cfe4f594f91c149b9c9ca872d?s=500&d=retro",
      				"email": "nic.manoogian@doppler.com",
      				"username": "nic"
      			},
      			"workplace": {
      				"name": "Rocketship Co",
      				"id": "30bd9e7d881446ce1bf8"
      			},
      			"slug": "fOypzrlnQ6H3OMLq6RV12ZMO"
      		}
      	}
      }
    result: null
  - sample: >-
      {
      	"id": "AgAAAZBz1d2841FiKwAAAAAAAAAYAAAAAEFaQnoxZUFUQUFDRFNaWVNFRzU4SUFBQQAAACQAAAAAMDE5MDczZDUtZGRiYy00YzZjLTk1NDktYTI5NjhiZDhiZjgy",
      	"content": {
      		"timestamp": "2024-07-02T14:25:14.172Z",
      		"tags": [
      			"source:doppler",
      			"datadog.submission_auth:api_key"
      		],
      		"message": "Modified secrets in <a href=\"https://dashboard.doppler.com/workplace/30bd9e7d881446ce1bf8/projects/payments/configs/dev\" rel=\"noopener\" class=\"text-purple-500 hover:underline\">dev</a> of <a href=\"https://dashboard.doppler.com/workplace/30bd9e7d881446ce1bf8/projects/payments\" rel=\"noopener\" class=\"text-purple-500 hover:underline\">payments</a> project with <a href=\"https://dashboard.doppler.com/workplace/30bd9e7d881446ce1bf8/projects/payments/configs/dev/logs?id=H0wdEmtL0hJtzpPjoL7d6GXx\" rel=\"noopener\" class=\"text-purple-500 hover:underline\">1 added</a>:<br>â€¢ STRIPE_API_KEY",
      		"attributes": {
      			"createdAt": "2024-07-02T14:25:14.172Z",
      			"metadata": {
      				"configName": "dev",
      				"configUrl": "https://dashboard.doppler.com/workplace/30bd9e7d881446ce1bf8/projects/payments/configs/dev",
      				"projectUrl": "https://dashboard.doppler.com/workplace/30bd9e7d881446ce1bf8/projects/payments",
      				"diffUrl": "https://dashboard.doppler.com/workplace/30bd9e7d881446ce1bf8/projects/payments/configs/dev/logs?id=H0wdEmtL0hJtzpPjoL7d6GXx",
      				"diff": {
      					"added": [
      						"STRIPE_API_KEY"
      					]
      				},
      				"projectName": "payments",
      				"projectId": "payments"
      			},
      			"usr": {
      				"name": "Nic Manoogian",
      				"email": "nic.manoogian@doppler.com"
      			},
      			"link": "https://dashboard.doppler.com/workplace/30bd9e7d881446ce1bf8/logs?id=Z3XK3tynBCd3u7bzBKJS6ntN",
      			"type": "enclave.project.config.secrets.update",
      			"title": "Activity Log: Z3XK3tynBCd3u7bzBKJS6ntN",
      			"user": {
      				"name": "Nic Manoogian",
      				"profile_image_url": "https://www.gravatar.com/avatar/7f447a6cfe4f594f91c149b9c9ca872d?s=500&d=retro",
      				"email": "nic.manoogian@doppler.com",
      				"username": "nic"
      			},
      			"workplace": {
      				"name": "Rocketship Co",
      				"id": "30bd9e7d881446ce1bf8"
      			},
      			"slug": "Z3XK3tynBCd3u7bzBKJS6ntN"
      		}
      	}
      }
    result: null
  - sample: >-
      {
      	"id": "AgAAAZBz1nD-4zJQcAAAAAAAAAAYAAAAAEFaQnoxblEzQUFCN21NQm9yVFNwZVFBQQAAACQAAAAAMDE5MDczZDYtNzBmZS00MWNiLWEzNzAtNmE4ZjdiN2I3NGRm",
      	"content": {
      		"timestamp": "2024-07-02T14:25:51.870Z",
      		"tags": [
      			"source:doppler",
      			"datadog.submission_auth:api_key"
      		],
      		"message": "Changed <a href=\"mailto:nic.manoogian+test1@dev.doppler.com\" rel=\"noopener\" data-side=\"bottom\" title=\"nic.manoogian+test1@dev.doppler.com\" class=\"text-purple-500 hover:underline\">Nic Manoogian 1</a> access from <strong>collaborator</strong> to <strong>admin</strong>",
      		"attributes": {
      			"createdAt": "2024-07-02T14:25:51.870Z",
      			"metadata": {
      				"oldWorkplaceRole": "collaborator",
      				"newWorkplaceRole": "admin"
      			},
      			"usr": {
      				"name": "Nic Manoogian",
      				"email": "nic.manoogian@doppler.com"
      			},
      			"link": "https://dashboard.doppler.com/workplace/30bd9e7d881446ce1bf8/logs?id=fcClWl8kGawkw9I7fm4MlCYs",
      			"type": "team.seat.update",
      			"title": "Activity Log: fcClWl8kGawkw9I7fm4MlCYs",
      			"user": {
      				"name": "Nic Manoogian",
      				"profile_image_url": "https://www.gravatar.com/avatar/7f447a6cfe4f594f91c149b9c9ca872d?s=500&d=retro",
      				"email": "nic.manoogian@doppler.com",
      				"username": "nic"
      			},
      			"workplace": {
      				"name": "Rocketship Co",
      				"id": "30bd9e7d881446ce1bf8"
      			},
      			"slug": "fcClWl8kGawkw9I7fm4MlCYs"
      		}
      	}
      }
    result: null
# The `result` field should be left blank to start. Once you submit your log asset files with
# your integration pull-request in a Datadog GitHub repository, Datadog's validations will
# run your raw logs against your pipeline and return the result. If the result output in the
# validation is accurate, take the output and add it to the `result` field in your test YAML file.
