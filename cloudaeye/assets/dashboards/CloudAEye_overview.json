{
  "title": "CloudAEye Kosal Dashboard",
  "description": "CloudAEye dashboard gives you insights about your service states, detects anomalies, and provides you with root course analysis of problems.\n\n- Automated root cause analysis (RCA) could help to improve incident resolution time and the experience for engineers.",
  "widgets": [
    {
      "id": 3352180038049936,
      "definition": {
        "type": "image",
        "url": "https://www.cloudaeye.com/assets/image/logo/logo.png",
        "sizing": "contain",
        "margin": "md",
        "has_background": false,
        "has_border": false,
        "vertical_align": "center",
        "horizontal_align": "center"
      },
      "layout": {
        "x": 0,
        "y": 0,
        "width": 12,
        "height": 1
      }
    },
    {
      "id": 1400716257387722,
      "definition": {
        "title": "Overview",
        "title_align": "center",
        "background_color": "blue",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 652446745246818,
            "definition": {
              "type": "note",
              "content": "# CloudAEye: Elevate Your Service Monitoring\n\nUnleash the power of [CloudAEye](https://www.cloudaeye.com/) - where insights meet innovation!\n\n- **Real-time Insights**: Stay ahead with the CloudAEye dashboard providing instant service state insights.\n\n- **Anomaly Detection**: Effortlessly detect anomalies for proactive issue resolution.\n\n- **Automated RCA**: Accelerate incident resolution time with automated Root Cause Analysis.\n\n### Dive into Details:\n\n#### Anomaly Timeline:\n\n- Track anomalies, anomalous events, and anomaly counts over time.\n\n#### HTTP Requests:\n\n- Monitor HTTP requests and swiftly address erroneous ones.\n\n#### Resource Usage Averages:\n\n- Keep tabs on memory and CPU usage averages in real-time.\n\n### Unveiling the Root Cause:\n\n- Explore the dependency graph of microservices on the CloudAEye dashboard.\n\nDon't just monitor, thrive with CloudAEye - your key to seamless service operation!\n",
              "background_color": "white",
              "font_size": "14",
              "text_align": "left",
              "vertical_align": "top",
              "show_tick": false,
              "tick_pos": "50%",
              "tick_edge": "left",
              "has_padding": true
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 4,
              "height": 5
            }
          },
          {
            "id": 4929330814536498,
            "definition": {
              "title": "Pods Running",
              "title_size": "16",
              "title_align": "left",
              "show_legend": false,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1",
                      "alias": "Pods Running"
                    }
                  ],
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "query": "sum:kubernetes.pods.running{*}",
                      "data_source": "metrics",
                      "name": "query1"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "scale": "linear",
                "label": "",
                "include_zero": true,
                "min": "auto",
                "max": "auto"
              },
              "markers": []
            },
            "layout": {
              "x": 4,
              "y": 0,
              "width": 4,
              "height": 2
            }
          },
          {
            "id": 4412907998582980,
            "definition": {
              "title": "Pods Running (changed weekly)",
              "title_size": "16",
              "title_align": "left",
              "type": "change",
              "custom_links": [],
              "requests": [
                {
                  "order_by": "change",
                  "order_dir": "desc",
                  "increase_good": true,
                  "change_type": "absolute",
                  "response_format": "scalar",
                  "formulas": [
                    {
                      "formula": "week_before(query1)"
                    },
                    {
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "name": "query1",
                      "data_source": "metrics",
                      "query": "sum:kubernetes.pods.running{*} by {kube_namespace,kube_deployment}",
                      "aggregator": "sum"
                    }
                  ]
                }
              ]
            },
            "layout": {
              "x": 8,
              "y": 0,
              "width": 2,
              "height": 5
            }
          },
          {
            "id": 5879880383856736,
            "definition": {
              "title": "Pods in Bad Phase by Namespaces",
              "title_size": "16",
              "title_align": "left",
              "type": "toplist",
              "requests": [
                {
                  "conditional_formats": [
                    {
                      "comparator": ">",
                      "palette": "custom_bg",
                      "value": 0,
                      "custom_bg_color": "#74a7fe"
                    }
                  ],
                  "response_format": "scalar",
                  "queries": [
                    {
                      "query": "sum:kubernetes_state.pod.status_phase{!pod_phase:running,!pod_phase:succeeded} by {pod_phase,kube_namespace}",
                      "data_source": "metrics",
                      "name": "query1",
                      "aggregator": "last"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "sort": {
                    "count": 100,
                    "order_by": [
                      {
                        "type": "formula",
                        "index": 0,
                        "order": "desc"
                      }
                    ]
                  }
                }
              ]
            },
            "layout": {
              "x": 10,
              "y": 0,
              "width": 2,
              "height": 5
            }
          },
          {
            "id": 5877998277912506,
            "definition": {
              "title": "Pods running by Namespace",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "vertical",
              "legend_columns": [
                "avg",
                "max",
                "value"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1",
                      "alias": "Pods Running"
                    }
                  ],
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "query": "sum:kubernetes.pods.running{*} by {kube_cluster_name,kube_namespace}",
                      "data_source": "metrics",
                      "name": "query1"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "area"
                }
              ],
              "yaxis": {
                "scale": "linear",
                "label": "",
                "include_zero": true,
                "min": "auto",
                "max": "auto"
              },
              "markers": []
            },
            "layout": {
              "x": 4,
              "y": 2,
              "width": 4,
              "height": 3
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 1,
        "width": 12,
        "height": 6
      }
    },
    {
      "id": 3549081455029354,
      "definition": {
        "title": "Request & Error Count Deviations",
        "background_color": "blue",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 8246846188108282,
            "definition": {
              "title": "Requests and Errors Deviation",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "vertical",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    },
                    {
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "stddev:universal.http.server{service:*} by {service}"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "stddev:universal.http.server{service:*, error:true} by {error,service}"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "thin"
                  },
                  "display_type": "line"
                }
              ],
              "markers": []
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 12,
              "height": 3
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 7,
        "width": 12,
        "height": 4
      }
    },
    {
      "id": 482012992721474,
      "definition": {
        "title": "Anomalies as Events",
        "background_color": "blue",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 2073526575908870,
            "definition": {
              "type": "note",
              "content": "This list shows anomalies that have occurred and their details, To find the root cause analysis of the anomaly  click on the CloudAEye link\n",
              "background_color": "blue",
              "font_size": "14",
              "text_align": "left",
              "vertical_align": "center",
              "show_tick": true,
              "tick_pos": "50%",
              "tick_edge": "bottom",
              "has_padding": true
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 12,
              "height": 1
            }
          },
          {
            "id": 7569558178851960,
            "definition": {
              "title": "Anomalies list",
              "title_size": "16",
              "title_align": "left",
              "requests": [
                {
                  "response_format": "event_list",
                  "query": {
                    "query_string": "@aggregation_key:CAE-* ",
                    "data_source": "event_stream",
                    "event_size": "l"
                  },
                  "columns": []
                }
              ],
              "type": "list_stream"
            },
            "layout": {
              "x": 0,
              "y": 1,
              "width": 12,
              "height": 5
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 11,
        "width": 12,
        "height": 7
      }
    },
    {
      "id": 1477007519442746,
      "definition": {
        "title": "Anomalies Timeline and Count",
        "background_color": "blue",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 7112707711032350,
            "definition": {
              "title": "Requests and Errors",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "horizontal",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    },
                    {
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "count:universal.http.server{service:*} by {service}.as_count()"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "count:universal.http.server{service:*,error:true} by {service}.as_count()"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "thin"
                  },
                  "display_type": "line"
                },
                {
                  "formulas": [
                    {
                      "alias": "Anomaly",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "events",
                      "name": "query1",
                      "indexes": [
                        "*"
                      ],
                      "compute": {
                        "aggregation": "count"
                      },
                      "group_by": [],
                      "search": {
                        "query": "@aggregation_key:CAE-sock-shop-anomaly"
                      }
                    }
                  ],
                  "response_format": "timeseries",
                  "display_type": "overlay"
                }
              ],
              "markers": []
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 4,
              "height": 2
            }
          },
          {
            "id": 3863703941386686,
            "definition": {
              "title": "Memory usage",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "horizontal",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:kubernetes.memory.usage{*} by {kube_service}"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                },
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "events",
                      "name": "query1",
                      "indexes": [
                        "*"
                      ],
                      "compute": {
                        "aggregation": "count"
                      },
                      "group_by": [],
                      "search": {
                        "query": "@aggregation_key:CAE-kubernetes.memory.usage*"
                      }
                    }
                  ],
                  "response_format": "timeseries",
                  "display_type": "overlay"
                }
              ]
            },
            "layout": {
              "x": 4,
              "y": 0,
              "width": 4,
              "height": 2
            }
          },
          {
            "id": 4604843603889067,
            "definition": {
              "title": "Latency",
              "title_size": "16",
              "title_align": "left",
              "show_legend": false,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "p50"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "p50",
                      "query": "p99:universal.http.server{service:*} by {service}",
                      "aggregator": "percentile"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "thin"
                  },
                  "display_type": "line"
                },
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "events",
                      "name": "query1",
                      "indexes": [
                        "*"
                      ],
                      "compute": {
                        "aggregation": "count"
                      },
                      "group_by": [],
                      "search": {
                        "query": "@aggregation_key:CAE-sock-shop-anomaly"
                      }
                    }
                  ],
                  "response_format": "timeseries",
                  "display_type": "overlay"
                }
              ],
              "markers": []
            },
            "layout": {
              "x": 8,
              "y": 0,
              "width": 4,
              "height": 2
            }
          },
          {
            "id": 8318809959290366,
            "definition": {
              "title": "Request Anomaly count",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Anomaly Count",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "events",
                      "name": "query1",
                      "indexes": [
                        "*"
                      ],
                      "compute": {
                        "aggregation": "count"
                      },
                      "group_by": [],
                      "search": {
                        "query": "@aggregation_key:CAE-sock-shop-anomaly"
                      }
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "purple",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "bars"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear"
              }
            },
            "layout": {
              "x": 0,
              "y": 2,
              "width": 4,
              "height": 2
            }
          },
          {
            "id": 5003073633936682,
            "definition": {
              "title": "Memory Usage Anomaly Count",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Anomaly Count",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "events",
                      "name": "query1",
                      "indexes": [
                        "*"
                      ],
                      "compute": {
                        "aggregation": "count"
                      },
                      "group_by": [],
                      "search": {
                        "query": "@aggregation_key:CAE-kubernetes.memory.usage*"
                      }
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "purple",
                    "line_type": "solid",
                    "line_width": "thick"
                  },
                  "display_type": "bars"
                }
              ]
            },
            "layout": {
              "x": 4,
              "y": 2,
              "width": 4,
              "height": 2
            }
          },
          {
            "id": 8674390322462940,
            "definition": {
              "title": "Latency Anomaly count",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "Anomaly Count",
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "events",
                      "name": "query1",
                      "indexes": [
                        "*"
                      ],
                      "compute": {
                        "aggregation": "count"
                      },
                      "group_by": [],
                      "search": {
                        "query": "@aggregation_key:CAE-sock-shop-anomaly"
                      }
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "purple",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "bars"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear"
              }
            },
            "layout": {
              "x": 8,
              "y": 2,
              "width": 4,
              "height": 2
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 18,
        "width": 12,
        "height": 5
      }
    },
    {
      "id": 4211459609291744,
      "definition": {
        "title": "Pods",
        "title_align": "center",
        "background_color": "blue",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 7008242796779350,
            "definition": {
              "title": "CPU-intensive pods",
              "title_size": "16",
              "title_align": "left",
              "type": "toplist",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "query": "sum:kubernetes.cpu.usage.total{!pod_name:no_pod} by {pod_name}",
                      "data_source": "metrics",
                      "name": "query1",
                      "aggregator": "avg"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "sort": {
                    "count": 10,
                    "order_by": [
                      {
                        "type": "formula",
                        "index": 0,
                        "order": "desc"
                      }
                    ]
                  }
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 2,
              "height": 3
            }
          },
          {
            "id": 5111992624205280,
            "definition": {
              "title": "CPU Usage by Pod",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "vertical",
              "legend_columns": [
                "avg",
                "max",
                "value"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1",
                      "alias": "CPU Usage"
                    }
                  ],
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "query": "sum:kubernetes.cpu.usage.total{*} by {pod_name}",
                      "data_source": "metrics",
                      "name": "query1"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "scale": "linear",
                "label": "",
                "include_zero": true,
                "min": "auto",
                "max": "auto"
              },
              "markers": []
            },
            "layout": {
              "x": 2,
              "y": 0,
              "width": 4,
              "height": 3
            }
          },
          {
            "id": 5903598918295024,
            "definition": {
              "title": "Memory-intensive pods",
              "title_size": "16",
              "title_align": "left",
              "type": "toplist",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "query": "sum:kubernetes.memory.usage{!pod_name:no_pod} by {pod_name}",
                      "data_source": "metrics",
                      "name": "query1",
                      "aggregator": "avg"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "sort": {
                    "count": 10,
                    "order_by": [
                      {
                        "type": "formula",
                        "index": 0,
                        "order": "desc"
                      }
                    ]
                  }
                }
              ]
            },
            "layout": {
              "x": 6,
              "y": 0,
              "width": 2,
              "height": 3
            }
          },
          {
            "id": 11348607278632,
            "definition": {
              "title": "Memory Usage by Pod",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "vertical",
              "legend_columns": [
                "avg",
                "max",
                "value"
              ],
              "time": {
                "type": "live",
                "unit": "day",
                "value": 1
              },
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1",
                      "alias": "Memory Usage"
                    }
                  ],
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "query": "sum:kubernetes.memory.usage{*} by {pod_name}",
                      "data_source": "metrics",
                      "name": "query1"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "scale": "linear",
                "label": "",
                "include_zero": true,
                "min": "auto",
                "max": "auto"
              },
              "markers": []
            },
            "layout": {
              "x": 8,
              "y": 0,
              "width": 4,
              "height": 3
            }
          },
          {
            "id": 2406947873362784,
            "definition": {
              "title": "Pods Running By Namespace",
              "title_size": "16",
              "title_align": "left",
              "type": "toplist",
              "requests": [
                {
                  "conditional_formats": [
                    {
                      "comparator": ">",
                      "palette": "white_on_red",
                      "value": 2000
                    },
                    {
                      "comparator": ">",
                      "palette": "white_on_yellow",
                      "value": 1500
                    },
                    {
                      "comparator": "<=",
                      "palette": "white_on_green",
                      "value": 3000
                    }
                  ],
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:kubernetes.pods.running{*} by {kube_cluster_name,kube_namespace}",
                      "aggregator": "max"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "sort": {
                    "count": 100,
                    "order_by": [
                      {
                        "type": "formula",
                        "index": 0,
                        "order": "desc"
                      }
                    ]
                  }
                }
              ],
              "custom_links": []
            },
            "layout": {
              "x": 0,
              "y": 3,
              "width": 2,
              "height": 3
            }
          },
          {
            "id": 3058178928693728,
            "definition": {
              "title": "Pods in Ready State By Node",
              "title_size": "16",
              "title_align": "left",
              "type": "toplist",
              "requests": [
                {
                  "conditional_formats": [
                    {
                      "comparator": "<=",
                      "palette": "white_on_green",
                      "value": 24
                    },
                    {
                      "comparator": ">",
                      "palette": "white_on_red",
                      "value": 32
                    },
                    {
                      "comparator": ">",
                      "palette": "white_on_yellow",
                      "value": 24
                    }
                  ],
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:kubernetes_state.pod.ready{condition:true} by {kube_cluster_name,host,nodepool}",
                      "aggregator": "last"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "sort": {
                    "count": 10,
                    "order_by": [
                      {
                        "type": "formula",
                        "index": 0,
                        "order": "desc"
                      }
                    ]
                  }
                }
              ],
              "custom_links": []
            },
            "layout": {
              "x": 2,
              "y": 3,
              "width": 2,
              "height": 3
            }
          },
          {
            "id": 3674119551570064,
            "definition": {
              "title": "Pods in Bad State by Namespace",
              "title_size": "16",
              "title_align": "left",
              "type": "toplist",
              "requests": [
                {
                  "conditional_formats": [
                    {
                      "comparator": ">",
                      "palette": "white_on_red",
                      "value": 0
                    },
                    {
                      "comparator": "<=",
                      "palette": "white_on_green",
                      "value": 0
                    }
                  ],
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:kubernetes_state.pod.ready{condition:false,!pod_phase:succeeded} by {kube_namespace}",
                      "aggregator": "last"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "exclude_null(query1)"
                    }
                  ],
                  "sort": {
                    "count": 25,
                    "order_by": [
                      {
                        "type": "formula",
                        "index": 0,
                        "order": "desc"
                      }
                    ]
                  }
                }
              ],
              "custom_links": []
            },
            "layout": {
              "x": 4,
              "y": 3,
              "width": 2,
              "height": 3
            }
          },
          {
            "id": 7925038085729292,
            "definition": {
              "title": "Pods Status Phase",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "time": {
                "type": "live",
                "unit": "day",
                "value": 1
              },
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1",
                      "alias": "failed"
                    },
                    {
                      "formula": "query2",
                      "alias": "pending"
                    },
                    {
                      "formula": "query3",
                      "alias": "running"
                    },
                    {
                      "formula": "query4",
                      "alias": "succeeded"
                    }
                  ],
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "query": "sum:kubernetes_state.pod.status_phase{pod_phase:failed}",
                      "data_source": "metrics",
                      "name": "query1"
                    },
                    {
                      "query": "sum:kubernetes_state.pod.status_phase{pod_phase:pending}",
                      "data_source": "metrics",
                      "name": "query2"
                    },
                    {
                      "query": "sum:kubernetes_state.pod.status_phase{pod_phase:running}",
                      "data_source": "metrics",
                      "name": "query3"
                    },
                    {
                      "query": "sum:kubernetes_state.pod.status_phase{pod_phase:succeeded}",
                      "data_source": "metrics",
                      "name": "query4"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "area"
                }
              ],
              "yaxis": {
                "scale": "linear",
                "label": "",
                "include_zero": true,
                "min": "auto",
                "max": "auto"
              },
              "markers": []
            },
            "layout": {
              "x": 6,
              "y": 3,
              "width": 6,
              "height": 3
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 23,
        "width": 12,
        "height": 7,
        "is_column_break": true
      }
    },
    {
      "id": 1170755117684458,
      "definition": {
        "title": "Containers",
        "title_align": "center",
        "background_color": "blue",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 4330927143008872,
            "definition": {
              "title": "Containers States",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "time": {
                "type": "live",
                "unit": "day",
                "value": 1
              },
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1",
                      "alias": "Ready"
                    },
                    {
                      "formula": "query2",
                      "alias": "Running"
                    },
                    {
                      "formula": "query3",
                      "alias": "Terminated"
                    },
                    {
                      "formula": "query4",
                      "alias": "Waiting"
                    }
                  ],
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "query": "sum:kubernetes_state.container.ready{*}",
                      "data_source": "metrics",
                      "name": "query1"
                    },
                    {
                      "query": "sum:kubernetes_state.container.running{*}",
                      "data_source": "metrics",
                      "name": "query2"
                    },
                    {
                      "query": "sum:kubernetes_state.container.terminated{*}",
                      "data_source": "metrics",
                      "name": "query3"
                    },
                    {
                      "query": "sum:kubernetes_state.container.waiting{*}",
                      "data_source": "metrics",
                      "name": "query4"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "scale": "linear",
                "label": "",
                "include_zero": true,
                "min": "auto",
                "max": "auto"
              },
              "markers": []
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 6,
              "height": 3
            }
          },
          {
            "id": 7621755022840130,
            "definition": {
              "title": "Containers OOM Killed (by Pod)",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "time": {
                "type": "live",
                "unit": "day",
                "value": 1
              },
              "type": "timeseries",
              "requests": [
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "query": "sum:kubernetes.containers.state.terminated{reason:oomkilled} by {pod_name}",
                      "data_source": "metrics",
                      "name": "query1"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "bars"
                }
              ],
              "yaxis": {
                "scale": "linear",
                "label": "",
                "include_zero": true,
                "min": "auto",
                "max": "auto"
              },
              "markers": []
            },
            "layout": {
              "x": 6,
              "y": 0,
              "width": 6,
              "height": 3
            }
          },
          {
            "id": 6288259542703662,
            "definition": {
              "title": "Containers in CrashloopBackOff (by Pod)",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "vertical",
              "legend_columns": [
                "avg",
                "max",
                "value"
              ],
              "time": {
                "type": "live",
                "unit": "day",
                "value": 1
              },
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1",
                      "alias": "CrashloopBackOff"
                    }
                  ],
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "query": "sum:kubernetes.containers.state.waiting{reason:crashloopbackoff} by {pod_name}",
                      "data_source": "metrics",
                      "name": "query1"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "bars"
                }
              ],
              "yaxis": {
                "scale": "linear",
                "label": "",
                "include_zero": true,
                "min": "auto",
                "max": "auto"
              },
              "markers": []
            },
            "layout": {
              "x": 0,
              "y": 3,
              "width": 6,
              "height": 3
            }
          },
          {
            "id": 4400056652924428,
            "definition": {
              "title": "Container Restarts by Pod",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "vertical",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "time": {
                "type": "live",
                "unit": "day",
                "value": 1
              },
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1",
                      "alias": "Restarts"
                    }
                  ],
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "query": "sum:kubernetes_state.container.restarts{*} by {pod_name}",
                      "data_source": "metrics",
                      "name": "query1"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "area"
                }
              ],
              "yaxis": {
                "scale": "linear",
                "label": "",
                "include_zero": true,
                "min": "auto",
                "max": "auto"
              },
              "markers": []
            },
            "layout": {
              "x": 6,
              "y": 3,
              "width": 6,
              "height": 3
            }
          },
          {
            "id": 4396687905812906,
            "definition": {
              "title": "CPU Usage by Container",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "vertical",
              "legend_columns": [
                "avg",
                "max",
                "value"
              ],
              "time": {
                "type": "live",
                "unit": "day",
                "value": 1
              },
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1",
                      "alias": "CPU Usage"
                    }
                  ],
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "query": "sum:kubernetes.cpu.usage.total{*} by {kube_container_name,container_id}",
                      "data_source": "metrics",
                      "name": "query1"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "scale": "linear",
                "label": "",
                "include_zero": true,
                "min": "auto",
                "max": "auto"
              },
              "markers": []
            },
            "layout": {
              "x": 0,
              "y": 6,
              "width": 6,
              "height": 3
            }
          },
          {
            "id": 1986342085135862,
            "definition": {
              "title": "Memory Usage by Container",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "vertical",
              "legend_columns": [
                "avg",
                "max",
                "value"
              ],
              "time": {
                "type": "live",
                "unit": "day",
                "value": 1
              },
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1",
                      "alias": "Memory Usage"
                    }
                  ],
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "query": "sum:kubernetes.memory.usage{*} by {kube_container_name,container_id}",
                      "data_source": "metrics",
                      "name": "query1"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "scale": "linear",
                "label": "",
                "include_zero": true,
                "min": "auto",
                "max": "auto"
              },
              "markers": []
            },
            "layout": {
              "x": 6,
              "y": 6,
              "width": 6,
              "height": 3
            }
          },
          {
            "id": 6123628989152674,
            "definition": {
              "title": "Network Rate by Pod",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "vertical",
              "legend_columns": [
                "avg",
                "max",
                "value"
              ],
              "time": {
                "type": "live",
                "unit": "day",
                "value": 1
              },
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1",
                      "alias": "Received Bytes"
                    },
                    {
                      "formula": "query2",
                      "alias": "Transmitted Bytes"
                    }
                  ],
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "query": "sum:kubernetes.network.rx_bytes{*} by {pod_name}",
                      "data_source": "metrics",
                      "name": "query1"
                    },
                    {
                      "query": "sum:kubernetes.network.tx_bytes{*} by {pod_name}",
                      "data_source": "metrics",
                      "name": "query2"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "scale": "linear",
                "label": "",
                "include_zero": true,
                "min": "auto",
                "max": "auto"
              },
              "markers": []
            },
            "layout": {
              "x": 0,
              "y": 9,
              "width": 6,
              "height": 3
            }
          },
          {
            "id": 588276867133806,
            "definition": {
              "title": "Network Errors by Pod",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "vertical",
              "legend_columns": [
                "max",
                "value",
                "avg"
              ],
              "time": {
                "type": "live",
                "unit": "day",
                "value": 1
              },
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1",
                      "alias": "Received Errors"
                    },
                    {
                      "formula": "query2",
                      "alias": "Transmitted Errors"
                    }
                  ],
                  "response_format": "timeseries",
                  "on_right_yaxis": false,
                  "queries": [
                    {
                      "query": "sum:kubernetes.network.rx_errors{*} by {pod_name}",
                      "data_source": "metrics",
                      "name": "query1"
                    },
                    {
                      "query": "sum:kubernetes.network.tx_errors{*} by {pod_name}",
                      "data_source": "metrics",
                      "name": "query2"
                    }
                  ],
                  "style": {
                    "palette": "purple",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "scale": "linear",
                "label": "",
                "include_zero": true,
                "min": "auto",
                "max": "auto"
              },
              "markers": []
            },
            "layout": {
              "x": 6,
              "y": 9,
              "width": 6,
              "height": 3
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 30,
        "width": 12,
        "height": 13
      }
    },
    {
      "id": 1926976079767776,
      "definition": {
        "title": "CPU and Mem by Kubernetes Objects",
        "title_size": "16",
        "title_align": "left",
        "type": "query_table",
        "requests": [
          {
            "response_format": "scalar",
            "queries": [
              {
                "query": "sum:kubernetes.cpu.requests{$app} by {kube_cluster_name,env,kube_deployment,kube_daemon_set,kube_stateful_set}",
                "data_source": "metrics",
                "name": "query1",
                "aggregator": "avg"
              },
              {
                "query": "sum:kubernetes.cpu.limits{$app} by {kube_cluster_name,env,kube_deployment,kube_daemon_set,kube_stateful_set}",
                "data_source": "metrics",
                "name": "query2",
                "aggregator": "avg"
              },
              {
                "query": "sum:kubernetes.cpu.usage.total{$app} by {kube_cluster_name,env,kube_deployment,kube_daemon_set,kube_stateful_set}",
                "data_source": "metrics",
                "name": "query7",
                "aggregator": "avg"
              },
              {
                "query": "sum:kubernetes.memory.requests{$app} by {kube_cluster_name,env,kube_deployment,kube_daemon_set,kube_stateful_set}",
                "data_source": "metrics",
                "name": "query5",
                "aggregator": "avg"
              },
              {
                "query": "sum:kubernetes.memory.limits{$app} by {kube_cluster_name,env,kube_deployment,kube_daemon_set,kube_stateful_set}",
                "data_source": "metrics",
                "name": "query6",
                "aggregator": "avg"
              },
              {
                "query": "sum:kubernetes.memory.usage{$app} by {kube_cluster_name,env,kube_deployment,kube_daemon_set,kube_stateful_set}",
                "data_source": "metrics",
                "name": "query8",
                "aggregator": "avg"
              }
            ],
            "sort": {
              "count": 500,
              "order_by": [
                {
                  "type": "formula",
                  "index": 0,
                  "order": "desc"
                }
              ]
            },
            "formulas": [
              {
                "alias": "CPU requests",
                "cell_display_mode": "number",
                "formula": "query1"
              },
              {
                "alias": "CPU usage",
                "cell_display_mode": "number",
                "formula": "query7"
              },
              {
                "alias": "MEM requests",
                "formula": "query5"
              },
              {
                "alias": "MEM usage",
                "formula": "query8"
              },
              {
                "alias": "% CPU requests",
                "conditional_formats": [
                  {
                    "palette": "white_on_red",
                    "comparator": "<",
                    "value": 60
                  }
                ],
                "formula": "query7 / (query1 * 1000000000) * 100"
              },
              {
                "alias": "% MEM requests",
                "conditional_formats": [
                  {
                    "palette": "white_on_red",
                    "comparator": "<",
                    "value": 60
                  }
                ],
                "formula": "query8 / query5 * 100"
              }
            ]
          }
        ],
        "has_search_bar": "auto"
      },
      "layout": {
        "x": 0,
        "y": 0,
        "width": 12,
        "height": 5
      }
    }
  ],
  "template_variables": [
    {
      "name": "aws_account",
      "prefix": "aws_account",
      "available_values": [],
      "default": "*"
    },
    {
      "name": "region",
      "prefix": "region",
      "available_values": [],
      "default": "*"
    },
    {
      "name": "app",
      "prefix": "env",
      "available_values": [],
      "default": "*"
    },
    {
      "name": "service",
      "prefix": "service",
      "available_values": [],
      "default": "*"
    }
  ],
  "layout_type": "ordered",
  "notify_list": [],
  "reflow_type": "fixed"
}