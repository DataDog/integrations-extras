{"title":"SinglestoreDB Cloud Overview","description":"## SingleStoreDB Cloud\n\nThis dashboard provides a high-level view of your SingleStoreDB metrics and can help you troubleshoot performance issues. (cloned)","widgets":[{"id":451557414979188,"definition":{"title":"SinglestoreDB Cloud Overview","background_color":"vivid_purple","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":4444195504700406,"definition":{"type":"image","url":"https://static.datadoghq.com/static/images/logos/singlestore_large.svg","sizing":"cover","has_background":true,"has_border":false,"vertical_align":"center","horizontal_align":"center"},"layout":{"x":0,"y":0,"width":4,"height":2}},{"id":7197245153028010,"definition":{"type":"note","content":"This dashboard provides a high-level view of your SingleStoreDB Cloud metrics and help you observe:\n- Any issues due to resource utilization\n- Spikes in connections\n- A high-level overview of query rate & performance","background_color":"white","font_size":"14","text_align":"left","vertical_align":"top","show_tick":false,"tick_pos":"50%","tick_edge":"left","has_padding":true},"layout":{"x":4,"y":0,"width":5,"height":2}},{"id":5673187276339464,"definition":{"type":"note","content":"For further reading on SingleStore:\n- [SingleStore docs](https://docs.singlestore.com/)\n","background_color":"white","font_size":"14","text_align":"left","vertical_align":"top","show_tick":false,"tick_pos":"50%","tick_edge":"left","has_padding":true},"layout":{"x":9,"y":0,"width":3,"height":2}}]},"layout":{"x":0,"y":0,"width":12,"height":3}},{"id":8574938153744784,"definition":{"title":"Throughput","background_color":"vivid_purple","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":4069532494895836,"definition":{"title":"Read Queries per Second","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"Failed Read Queries per Second","formula":"cutoff_min(derivative(query2), 0)"},{"alias":"Read Queries per Second","formula":"cutoff_min(cutoff_min(derivative(query1), 0) + cutoff_min(derivative(query2), 0), 0)"}],"queries":[{"name":"query2","data_source":"metrics","query":"sum:singlestoredb_cloud.failed_read_queries{$WorkspaceGroupID,$WorkspaceName,!role:leaf,$workspaceGroupName} by {workspace_group_id}.as_count().rollup(max, 60)"},{"name":"query1","data_source":"metrics","query":"sum:singlestoredb_cloud.successful_read_queries{$WorkspaceGroupID,$WorkspaceName,!role:leaf,$workspaceGroupName} by {workspace_group_id}.as_count().rollup(max, 60)"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":0,"y":0,"width":4,"height":2}},{"id":8360519434922860,"definition":{"title":"Rows Read per Second","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"Row Read per Second","formula":"cutoff_min(derivative(query1), 0)"}],"queries":[{"name":"query1","data_source":"metrics","query":"sum:singlestoredb_cloud.rows_returned_by_reads{$WorkspaceGroupID,$WorkspaceName,!role:leaf,$workspaceGroupName} by {workspace_group_id}.rollup(max, 60)"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":4,"y":0,"width":4,"height":2}},{"id":3144240024131998,"definition":{"title":"Execution Time per Read Query","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"Execution Time per Read Query","formula":"cutoff_min(derivative(query1) / (derivative(query2) + derivative(query3)), 0)"}],"queries":[{"name":"query1","data_source":"metrics","query":"sum:singlestoredb_cloud.execution_time_of_reads{$WorkspaceGroupID,!role:leaf,$WorkspaceName,$workspaceGroupName} by {workspace_group_id}.rollup(max, 60)"},{"name":"query2","data_source":"metrics","query":"sum:singlestoredb_cloud.failed_read_queries{$WorkspaceGroupID,!role:leaf,$WorkspaceName,$workspaceGroupName} by {workspace_group_id}.as_count().rollup(max, 60)"},{"name":"query3","data_source":"metrics","query":"sum:singlestoredb_cloud.successful_read_queries{$WorkspaceGroupID,!role:leaf,$WorkspaceName,$workspaceGroupName} by {workspace_group_id}.as_count().rollup(max, 60)"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":8,"y":0,"width":4,"height":2}},{"id":1546655861508908,"definition":{"title":"Write Queries per Second","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"Failed Write Queries per Second","formula":"cutoff_min(derivative(query2), 0)"},{"alias":"Write Queries per Second","formula":"cutoff_min(cutoff_min(derivative(query1), 0) + cutoff_min(derivative(query2), 0), 0)"}],"queries":[{"name":"query2","data_source":"metrics","query":"sum:singlestoredb_cloud.failed_write_queries{$WorkspaceGroupID,$WorkspaceName,!role:leaf,$workspaceGroupName} by {workspace_group_id}.as_count().rollup(max, 60)"},{"name":"query1","data_source":"metrics","query":"sum:singlestoredb_cloud.successful_write_queries{$WorkspaceGroupID,$WorkspaceName,!role:leaf,$workspaceGroupName} by {workspace_group_id}.as_count().rollup(max, 60)"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":0,"y":2,"width":4,"height":2}},{"id":5482377397051404,"definition":{"title":"Rows Written per Second","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"Rows Written per Second","formula":"cutoff_min(derivative(query1), 0)"}],"queries":[{"name":"query1","data_source":"metrics","query":"sum:singlestoredb_cloud.rows_affected_by_writes{$WorkspaceGroupID,$WorkspaceName,!role:leaf,$workspaceGroupName} by {workspace_group_id}.rollup(max, 60)"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":4,"y":2,"width":4,"height":2}},{"id":3720066020190890,"definition":{"title":"Execution Time per Write Query","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"Execution Time per Write Query","formula":"cutoff_min(derivative(query1) / (derivative(query2) + derivative(query3)), 0)"}],"queries":[{"name":"query1","data_source":"metrics","query":"sum:singlestoredb_cloud.execution_time_of_write{$WorkspaceGroupID,!role:leaf,$WorkspaceName,$workspaceGroupName} by {workspace_group_id}.rollup(max, 60)"},{"name":"query2","data_source":"metrics","query":"sum:singlestoredb_cloud.failed_write_queries{$WorkspaceGroupID,!role:leaf,$WorkspaceName,$workspaceGroupName} by {workspace_group_id}.as_count().rollup(max, 60)"},{"name":"query3","data_source":"metrics","query":"sum:singlestoredb_cloud.successful_write_queries{$WorkspaceGroupID,!role:leaf,$WorkspaceName,$workspaceGroupName} by {workspace_group_id}.as_count().rollup(max, 60)"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":8,"y":2,"width":4,"height":2}},{"id":660926850864650,"definition":{"type":"note","content":"Changes in the pattern of above throughput metrics from the historical norm may indicate an issue with your application or changes in your workload.","background_color":"yellow","font_size":"14","text_align":"left","vertical_align":"center","show_tick":false,"tick_pos":"50%","tick_edge":"left","has_padding":false},"layout":{"x":0,"y":4,"width":12,"height":1}}]},"layout":{"x":0,"y":3,"width":12,"height":6}},{"id":787861236929506,"definition":{"title":"Utilization (%)","background_color":"vivid_purple","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":5208457271672410,"definition":{"title":"CPU Utilization (%)","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"vCPU Utilization","formula":"clamp_max(cutoff_min(((derivative(query5) / 1000) / query2) * 100, 0), 100)"}],"queries":[{"name":"query5","data_source":"metrics","query":"max:singlestoredb_cloud.cpu_used_ms{$WorkspaceGroupID,$WorkspaceName,$workspaceGroupName} by {node}.rollup(max, 60)"},{"name":"query2","data_source":"metrics","query":"max:singlestoredb_cloud.num_cpus{$WorkspaceGroupID,$WorkspaceName,$workspaceGroupName} by {node}.rollup(max, 60)"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"max":"100"}},"layout":{"x":0,"y":0,"width":4,"height":3}},{"id":2812995869562858,"definition":{"title":"Memory Utilization (%)","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"Memory Usage","formula":"(query1 / query2) * 100"}],"queries":[{"name":"query1","data_source":"metrics","query":"max:singlestoredb_cloud.mem_used_b{$WorkspaceGroupID,$WorkspaceName,$workspaceGroupName} by {node}"},{"name":"query2","data_source":"metrics","query":"max:singlestoredb_cloud.mem_total_b{$WorkspaceGroupID,$WorkspaceName,$workspaceGroupName} by {node}"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"max":"100"}},"layout":{"x":4,"y":0,"width":4,"height":3}},{"id":7670610685540184,"definition":{"title":"Persistent Cache Utilization (%)","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"Cache Usage","formula":"(query1 / query2) * 100"}],"queries":[{"name":"query1","data_source":"metrics","query":"max:singlestoredb_cloud.disk_used_b{$WorkspaceGroupID,$WorkspaceName,$workspaceGroupName} by {node}"},{"name":"query2","data_source":"metrics","query":"max:singlestoredb_cloud.disk_total_b{$WorkspaceGroupID,$WorkspaceName,$workspaceGroupName} by {node}"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"max":"100"}},"layout":{"x":8,"y":0,"width":4,"height":3}}]},"layout":{"x":0,"y":0,"width":12,"height":4,"is_column_break":true}},{"id":2860058736778024,"definition":{"title":"Connections & Threads","background_color":"vivid_purple","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":5741651673717802,"definition":{"title":"Threads - Connected (%)","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"Threads Connected","formula":"(query1 / query2) * 100"}],"queries":[{"name":"query1","data_source":"metrics","query":"max:singlestoredb_cloud.threads_connected{$WorkspaceGroupID,!role:leaf,$WorkspaceName,$workspaceGroupName} by {workspace_group_id}"},{"name":"query2","data_source":"metrics","query":"max:singlestoredb_cloud.max_connections{$WorkspaceGroupID,!role:leaf,$WorkspaceName,$workspaceGroupName} by {workspace_group_id}"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"max":"100"}},"layout":{"x":0,"y":0,"width":4,"height":2}},{"id":4587131163500594,"definition":{"title":"Threads - Running (%)","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"Threads Running","formula":"(query1 / query2) * 100"}],"queries":[{"name":"query1","data_source":"metrics","query":"max:singlestoredb_cloud.threads_running{$WorkspaceGroupID,!role:leaf,$WorkspaceName,$workspaceGroupName} by {workspace_group_id}"},{"name":"query2","data_source":"metrics","query":"max:singlestoredb_cloud.max_connection_threads{$WorkspaceGroupID,!role:leaf,$WorkspaceName,$workspaceGroupName} by {workspace_group_id}"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"max":"100"}},"layout":{"x":4,"y":0,"width":4,"height":2}},{"id":6414401940752928,"definition":{"title":"Queries Queued for Threads","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"Queries Queued","formula":"query1"}],"queries":[{"name":"query1","data_source":"metrics","query":"max:singlestoredb_cloud.ready_queue{$WorkspaceGroupID,$WorkspaceName,!role:leaf,$workspaceGroupName} by {workspace_group_id}"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":8,"y":0,"width":4,"height":2}},{"id":8816842050735716,"definition":{"type":"note","content":"Number of open connections (threads_connected) to the database relative to the maximum limit (max_connections). If the utilization is near 100%, it means DB is approaching the maximum allowed connections; this can potentially lead to performance issues, as queries may need to wait in a queue until a thread becomes available to process them.","background_color":"yellow","font_size":"14","text_align":"left","vertical_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"top","has_padding":true},"layout":{"x":0,"y":2,"width":4,"height":2}},{"id":1224536930145278,"definition":{"type":"note","content":"Number of threads actively running queries (threads_running) relative to the maximum limit (max_connection_threads). If the utilization is near 100%, it suggests that the system might be reaching its capacity in terms of how many queries can be executed in parallel. This situation can lead to resource pressure, unresponsiveness, latency spikes, and even failures","background_color":"yellow","font_size":"14","text_align":"left","vertical_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"top","has_padding":true},"layout":{"x":4,"y":2,"width":4,"height":2}},{"id":1012133347269978,"definition":{"type":"note","content":"Number of connections with pending queries that are waiting to be associated with available threads for execution. Increase in ready_queue means queries are queuing up faster than they can be executed by the available threads and potentially causing delays in query execution.","background_color":"yellow","font_size":"14","text_align":"left","vertical_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"top","has_padding":true},"layout":{"x":8,"y":2,"width":4,"height":2}},{"id":4375494598650630,"definition":{"title":"Connections per Second to Server","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"Connections","formula":"cutoff_min(derivative(query1), 0)"}],"queries":[{"name":"query1","data_source":"metrics","query":"max:singlestoredb_cloud.connections{$WorkspaceGroupID,!role:leaf,$WorkspaceName,$workspaceGroupName} by {workspace_group_id}.rollup(max, 60)"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":0,"y":4,"width":4,"height":2}},{"id":8700273569305172,"definition":{"type":"note","content":"The number of successful or non-successful connection attempts per second to the server.","background_color":"yellow","font_size":"14","text_align":"left","vertical_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"left","has_padding":true},"layout":{"x":4,"y":4,"width":2,"height":2}},{"id":3003421254263436,"definition":{"title":"Failed Connects","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"Failed Connects","formula":"cutoff_min(diff(query1), 0)"}],"queries":[{"name":"query1","data_source":"metrics","query":"max:singlestoredb_cloud.aborted_connects{$WorkspaceGroupID,!role:leaf,$WorkspaceName,$workspaceGroupName} by {workspace_group_id}.rollup(max, 60)"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":6,"y":4,"width":4,"height":2}},{"id":4276170006834312,"definition":{"type":"note","content":"The number of failed attempts to connect to the server.","background_color":"yellow","font_size":"14","text_align":"left","vertical_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"left","has_padding":true},"layout":{"x":10,"y":4,"width":2,"height":2}}]},"layout":{"x":0,"y":4,"width":12,"height":7}}],"template_variables":[{"name":"WorkspaceGroupID","prefix":"workspace_group_id","available_values":[],"default":"*"},{"name":"workspaceGroupName","prefix":"workspace_group_name","available_values":[],"default":"*"},{"name":"WorkspaceName","prefix":"workspace_name","available_values":[],"default":"*"}],"layout_type":"ordered","notify_list":[],"reflow_type":"fixed"}