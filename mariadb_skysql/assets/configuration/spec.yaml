name: MariaDB SkySQL
files:
- name: mariadb_skysql.yaml
  options:
  - template: init_config
    options:
      - template: init_config/openmetrics
  - template: instances
    options:
    - template: instances/openmetrics
      overrides:
        openmetrics_endpoint.enabled: true
        openmetrics_endpoint.required: true
        openmetrics_endpoint.display_priority: 2
        openmetrics_endpoint.value.example: https://api.mariadb.com/observability/v2/metrics
        extra_headers.required: true
        extra_headers.display_priority: 1
        extra_headers.value.example: {
          "Authorization": "Bearer _YOUR_API_TOKEN_"
        }
    - template: instances/openmetrics_legacy_base
      hidden: true
      overrides:
        prometheus_url.required: true