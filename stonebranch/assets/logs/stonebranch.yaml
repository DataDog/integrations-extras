# Stonebranch Universal Controller Log Configuration
logs:
  # Main UC application logs
  - type: file
    path: "/opt/stonebranch/uc/logs/uc.log"
    service: "stonebranch-uc"
    source: "stonebranch"
    tags:
      - "component:universal-controller"
      - "log_type:application"
    multiline:
      pattern_start: "\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}"
      match_for_start: true
    log_processing_rules:
      - type: exclude_at_match
        name: exclude_debug_logs
        pattern: "\\[DEBUG\\]"
      - type: mask_sequences
        name: mask_passwords
        pattern: "password=\\S+"
        replace_placeholder: "password=***"

  # Tomcat catalina logs (if separate from UC logs)
  - type: file
    path: "/opt/stonebranch/tomcat/logs/catalina.out"
    service: "stonebranch-tomcat"
    source: "tomcat"
    tags:
      - "component:tomcat"
      - "log_type:application"
    multiline:
      pattern_start: "\\d{2}-\\w{3}-\\d{4} \\d{2}:\\d{2}:\\d{2}"
      match_for_start: true

  # UC job execution logs
  - type: file
    path: "/opt/stonebranch/uc/logs/jobs/*.log"
    service: "stonebranch-jobs"
    source: "stonebranch"
    tags:
      - "component:job-execution"
      - "log_type:jobs"
    multiline:
      pattern_start: "\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}"
      match_for_start: true

  # UC error logs
  - type: file
    path: "/opt/stonebranch/uc/logs/error.log"
    service: "stonebranch-errors"
    source: "stonebranch"
    tags:
      - "component:universal-controller"
      - "log_type:errors"
    multiline:
      pattern_start: "\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}"
      match_for_start: true

  # UC audit logs
  - type: file
    path: "/opt/stonebranch/uc/logs/audit.log"
    service: "stonebranch-audit"
    source: "stonebranch"
    tags:
      - "component:audit"
      - "log_type:audit"
    multiline:
      pattern_start: "\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}"
      match_for_start: true