{
  "title": "Cloudsmith Overview",
  "description": "## Cloudsmith \nCloudsmith is a Cloud-native Package management tool. This integration allows Cloudsmith users to monitor their storage, bandwidth, and token usage in Datadog. \n\nCheck packages across your entire organization for storage and bandwidth usage and alert you when usage is getting close to your limit. Your status changes to a warning above 75% usage and critical above 85% usage. \n\nFor further reading, see the:\n\n- [Cloudsmith Documentation](https://cloudsmith.com)\n\nClone this template to make changes and add your own graphs and widgets.",
  "widgets": [
    {
      "id": 99901,
      "definition": {
        "type": "note",
        "content": "## Usage Overview",
        "background_color": "blue",
        "font_size": "16",
        "text_align": "left",
        "vertical_align": "center",
        "show_tick": false,
        "has_padding": true
      },
      "layout": {
        "x": 0,
        "y": 0,
        "width": 12,
        "height": 1
      }
    },
    {
      "id": 2,
      "definition": {
        "title": "Cloudsmith",
        "banner_img": "https://raw.githubusercontent.com/ciaracarey/test_cs_images/main/datadog-cloudsmith-logo-634x251.png",
        "show_title": false,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 536199974978311,
            "definition": {
              "title": "Active Members",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "response_format": "scalar",
                  "queries": [
                    {
                      "query": "sum:cloudsmith.cloudsmith.member.active{*}",
                      "data_source": "metrics",
                      "name": "query1",
                      "aggregator": "min"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 2
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 6,
              "height": 4
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 1,
        "width": 6,
        "height": 7
      }
    },
    {
      "id": 1,
      "definition": {
        "title": "Overview of usage",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 1390985517334205,
            "definition": {
              "title": "Percentage Storage Used",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "conditional_formats": [
                    {
                      "comparator": ">",
                      "palette": "red_on_white",
                      "value": 85
                    },
                    {
                      "comparator": ">",
                      "palette": "yellow_on_white",
                      "value": 75
                    }
                  ],
                  "response_format": "scalar",
                  "queries": [
                    {
                      "query": "avg:cloudsmith.storage_used{*}",
                      "data_source": "metrics",
                      "name": "query1",
                      "aggregator": "avg"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 2
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 3,
              "height": 2
            }
          },
          {
            "id": 1115597404915387,
            "definition": {
              "title": "Bandwidth Used(GiB)",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "response_format": "scalar",
                  "queries": [
                    {
                      "query": "avg:cloudsmith.bandwidth_used_gb{*}",
                      "data_source": "metrics",
                      "name": "query1",
                      "aggregator": "avg"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 2
            },
            "layout": {
              "x": 3,
              "y": 0,
              "width": 3,
              "height": 2
            }
          },
          {
            "id": 6344085258702783,
            "definition": {
              "title": "Percentage Bandwidth Used",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "conditional_formats": [
                    {
                      "comparator": ">=",
                      "palette": "red_on_white",
                      "value": 85
                    },
                    {
                      "comparator": ">",
                      "palette": "yellow_on_white",
                      "value": 75
                    }
                  ],
                  "response_format": "scalar",
                  "queries": [
                    {
                      "query": "avg:cloudsmith.bandwidth_used{*}",
                      "data_source": "metrics",
                      "name": "query1",
                      "aggregator": "avg"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 2
            },
            "layout": {
              "x": 0,
              "y": 2,
              "width": 3,
              "height": 2
            }
          },
          {
            "id": 5746781690109876,
            "definition": {
              "title": "Storage Used(Gib)",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "response_format": "scalar",
                  "queries": [
                    {
                      "query": "sum:cloudsmith.storage_used_gb{*}",
                      "data_source": "metrics",
                      "name": "query1",
                      "aggregator": "avg"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 2
            },
            "layout": {
              "x": 3,
              "y": 2,
              "width": 3,
              "height": 2
            }
          },
          {
            "id": 436209587668119,
            "definition": {
              "title": "Storage Used",
              "title_size": "16",
              "title_align": "left",
              "show_legend": false,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "query": "sum:cloudsmith.storage_used_gb{*}",
                      "data_source": "metrics",
                      "name": "query1"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "label": "",
                "min": "auto",
                "max": "auto"
              },
              "markers": []
            },
            "layout": {
              "x": 0,
              "y": 4,
              "width": 6,
              "height": 2
            }
          }
        ]
      },
      "layout": {
        "x": 6,
        "y": 1,
        "width": 6,
        "height": 9
      }
    },
    {
      "id": 99902,
      "definition": {
        "type": "note",
        "content": "## Audit",
        "background_color": "green",
        "font_size": "16",
        "text_align": "left",
        "vertical_align": "center",
        "show_tick": false,
        "has_padding": true
      },
      "layout": {
        "x": 0,
        "y": 8,
        "width": 12,
        "height": 1
      }
    },
    {
      "id": 7490658912792070,
      "definition": {
        "title": "Audit Logs",
        "title_size": "16",
        "title_align": "left",
        "type": "query_table",
        "requests": [
          {
            "queries": [
              {
                "data_source": "metrics",
                "name": "query1",
                "query": "sum:cloudsmith.cloudsmith.member.active{*}",
                "aggregator": "avg"
              }
            ],
            "response_format": "scalar",
            "sort": {
              "count": 500,
              "order_by": [
                {
                  "type": "formula",
                  "index": 0,
                  "order": "desc"
                }
              ]
            },
            "formulas": [
              {
                "cell_display_mode": "number",
                "formula": "query1"
              }
            ]
          }
        ],
        "has_search_bar": "auto"
      },
      "layout": {
        "x": 0,
        "y": 1,
        "width": 12,
        "height": 4
      }
    },
    {
      "id": 8941949979904031,
      "definition": {
        "title": "Org Members Summary",
        "title_size": "16",
        "title_align": "left",
        "requests": [
          {
            "query": {
              "data_source": "event_stream",
              "query_string": "source:cloudsmith @aggregation_key:org_members",
              "event_size": "s"
            },
            "response_format": "event_list",
            "columns": []
          }
        ],
        "type": "list_stream"
      },
      "layout": {
        "x": 0,
        "y": 5,
        "width": 12,
        "height": 4
      }
    },
    {
      "id": 99905,
      "definition": {
        "type": "note",
        "content": "## Token Metrics",
        "background_color": "purple",
        "font_size": "16",
        "text_align": "left",
        "vertical_align": "center",
        "show_tick": false,
        "has_padding": true
      },
      "layout": {
        "x": 0,
        "y": 9,
        "width": 12,
        "height": 1
      }
    },
    {
      "id": 3,
      "definition": {
        "title": "Token Overview",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 8971161252725269,
            "definition": {
              "type": "image",
              "url": "https://cloudsmith.com/img/cloudsmith-mini-dark.svg",
              "url_dark_theme": "https://cloudsmith.com/img/cloudsmith-mini.svg",
              "sizing": "contain"
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 2,
              "height": 2
            }
          },
          {
            "id": 8871727855771134,
            "definition": {
              "type": "note",
              "content": "Track your entitlement token usage for your organization. View the amount of tokens created, the total amount downloaded by all tokens, and the bandwidth used by tokens. \n\nEntitlement tokens are read-only tokens used for downloading files and gaining read-only access to repository contents. See [Entitlements](https://help.cloudsmith.io/docs/entitlements) for more information.",
              "background_color": "white",
              "font_size": "14",
              "text_align": "left",
              "vertical_align": "top",
              "show_tick": false,
              "tick_pos": "50%",
              "tick_edge": "left",
              "has_padding": true
            },
            "layout": {
              "x": 2,
              "y": 0,
              "width": 8,
              "height": 2
            }
          },
          {
            "id": 1745585157577347,
            "definition": {
              "title": "Total Downloads by Tokens",
              "title_size": "16",
              "title_align": "left",
              "show_legend": false,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "query": "avg:cloudsmith.token_download_total{*}",
                      "data_source": "metrics",
                      "name": "query1"
                    }
                  ],
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "label": "",
                "min": "auto",
                "max": "auto"
              },
              "markers": []
            },
            "layout": {
              "x": 0,
              "y": 2,
              "width": 4,
              "height": 2
            }
          },
          {
            "id": 5049902402844905,
            "definition": {
              "title": "Total Bandwidth Consumed by Tokens",
              "title_size": "16",
              "title_align": "left",
              "show_legend": false,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "query": "avg:cloudsmith.token_bandwidth_total{*}",
                      "data_source": "metrics",
                      "name": "query1"
                    }
                  ],
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "include_zero": true,
                "scale": "linear",
                "label": "",
                "min": "auto",
                "max": "auto"
              },
              "markers": []
            },
            "layout": {
              "x": 4,
              "y": 2,
              "width": 4,
              "height": 2
            }
          },
          {
            "id": 2012617695632698,
            "definition": {
              "title": "Token Count",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "response_format": "scalar",
                  "queries": [
                    {
                      "query": "avg:cloudsmith.token_count{*}",
                      "data_source": "metrics",
                      "name": "query1",
                      "aggregator": "avg"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 2
            },
            "layout": {
              "x": 8,
              "y": 2,
              "width": 2,
              "height": 2
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 10,
        "width": 12,
        "height": 5,
        "is_column_break": true
      }
    },
    {
      "id": 99903,
      "definition": {
        "type": "note",
        "content": "## Security scans and Policy violations",
        "background_color": "orange",
        "font_size": "16",
        "text_align": "left",
        "vertical_align": "center",
        "show_tick": false,
        "has_padding": true
      },
      "layout": {
        "x": 0,
        "y": 5,
        "width": 12,
        "height": 1
      }
    },
    {
      "id": 2282516981148608,
      "definition": {
        "title": "Vulnerability Policy Violation",
        "title_size": "16",
        "title_align": "left",
        "requests": [
          {
            "query": {
              "data_source": "event_stream",
              "query_string": "source:cloudsmith @aggregation_key:vulnerabilitiy_policy_violation",
              "event_size": "s"
            },
            "response_format": "event_list",
            "columns": []
          }
        ],
        "type": "list_stream"
      },
      "layout": {
        "x": 0,
        "y": 6,
        "width": 12,
        "height": 4
      }
    },
    {
      "id": 1391671782281332,
      "definition": {
        "title": "Security Scan Result",
        "title_size": "16",
        "title_align": "left",
        "requests": [
          {
            "query": {
              "data_source": "event_stream",
              "query_string": "source:cloudsmith @aggregation_key:vulnerabilities",
              "event_size": "s"
            },
            "response_format": "event_list",
            "columns": []
          }
        ],
        "type": "list_stream"
      },
      "layout": {
        "x": 0,
        "y": 10,
        "width": 12,
        "height": 4
      }
    },
    {
      "id": 2594587029838951,
      "definition": {
        "title": "License Policy Scan Result",
        "title_size": "16",
        "title_align": "left",
        "requests": [
          {
            "query": {
              "data_source": "event_stream",
              "query_string": "source:cloudsmith @aggregation_key:license_policy_violation",
              "event_size": "s"
            },
            "response_format": "event_list",
            "columns": []
          }
        ],
        "type": "list_stream"
      },
      "layout": {
        "x": 0,
        "y": 14,
        "width": 12,
        "height": 4
      }
    }
  ],
  "template_variables": [],
  "layout_type": "ordered",
  "notify_list": [],
  "reflow_type": "fixed"
}