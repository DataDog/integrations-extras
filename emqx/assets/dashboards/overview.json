{"title":"EMQX Overview (cloned by ysf)","description":"This dashboard provides an overview of your EMQX environment. It monitors node status, provides information on message status, and provides insight into various other EMQX setup observability measures. (cloned)","widgets":[{"id":7207015794187642,"definition":{"title":"EMQX","banner_img":"https://raw.githubusercontent.com/ysfscream/images/main/emqx-with-watermark.png","show_title":false,"type":"group","layout_type":"ordered","widgets":[{"id":1754012886664166,"definition":{"type":"note","content":"**EMQX**\n\nThis dashboard provides an overview of your EMQX environment. It monitors node status, provides information on message status, and provides insight into various other EMQX setup observability measures.\n","background_color":"gray","font_size":"14","text_align":"left","vertical_align":"center","show_tick":false,"tick_pos":"50%","tick_edge":"left","has_padding":true},"layout":{"x":0,"y":0,"width":3,"height":3}},{"id":216422308007800,"definition":{"type":"note","content":"**Explore More**\n\n- [EMQX Documentation](https://docs.emqx.com/en/enterprise/latest/)\n- [EMQX Blog](https://www.emqx.com/en/blog/category/emqx?utm_source=emqx-enterprise-dashboard&utm_medium=referral&utm_campaign=emqx-enterprise-dashboard-header-to-contact)\n- [Contact us](https://www.emqx.com/en/contact)","background_color":"green","font_size":"14","text_align":"left","vertical_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"left","has_padding":true},"layout":{"x":3,"y":0,"width":3,"height":3}}]},"layout":{"x":0,"y":0,"width":6,"height":6}},{"id":6548754800687862,"definition":{"title":"Open Metrics Health","title_size":"16","title_align":"left","type":"check_status","check":"emqx.openmetrics.health","grouping":"cluster","group_by":[],"tags":[]},"layout":{"x":6,"y":0,"width":6,"height":2}},{"id":563655229273760,"definition":{"title":"Node Status","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":7986851613976362,"definition":{"title":"Running","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query2"}],"queries":[{"data_source":"metrics","name":"query2","query":"sum:emqx.cluster.nodes_running{*}","aggregator":"last"}],"response_format":"scalar","conditional_formats":[{"comparator":">=","value":0,"palette":"black_on_light_green"}]}],"autoscale":true,"text_align":"center","precision":2},"layout":{"x":0,"y":0,"width":3,"height":3}},{"id":1349316727855318,"definition":{"title":"Stopped","title_size":"16","title_align":"left","type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"avg:emqx.cluster.nodes_stopped{*}","aggregator":"avg"}],"conditional_formats":[{"comparator":">","value":0,"palette":"red_on_white","custom_bg_color":"#ead7d7"},{"comparator":"=","value":0,"palette":"custom_bg"}],"formulas":[{"formula":"query1"}]}],"autoscale":true,"precision":2},"layout":{"x":3,"y":0,"width":3,"height":3}}]},"layout":{"x":6,"y":2,"width":6,"height":4}},{"id":8775764009775376,"definition":{"title":"Total Connections","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"sum:emqx.connections.count{*}","aggregator":"last"}],"response_format":"scalar","conditional_formats":[{"comparator":">=","value":0,"palette":"custom_bg","custom_bg_color":"#ac66e5"}]}],"autoscale":true,"text_align":"left","precision":0,"timeseries_background":{"yaxis":{"include_zero":true},"type":"area"}},"layout":{"x":0,"y":0,"width":4,"height":2}},{"id":7907186936481438,"definition":{"title":"Active Topics","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"max:emqx.topics.count{*}","aggregator":"last"}],"response_format":"scalar","conditional_formats":[{"comparator":">=","value":0,"palette":"white_on_yellow"}]}],"autoscale":true,"text_align":"left","precision":0,"timeseries_background":{"yaxis":{"include_zero":true},"type":"area"}},"layout":{"x":4,"y":0,"width":4,"height":2}},{"id":6659538848858876,"definition":{"title":"Active Subscriptions","title_size":"16","title_align":"left","type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"sum:emqx.suboptions.count{*}","aggregator":"last"}],"conditional_formats":[{"comparator":">=","value":0,"palette":"custom_bg","custom_bg_color":"#499edf","custom_fg_color":"#ffffff"}],"formulas":[{"formula":"query1"}]}],"autoscale":true,"precision":2,"timeseries_background":{"yaxis":{"include_zero":true},"type":"area"}},"layout":{"x":8,"y":0,"width":4,"height":2}},{"id":4921491767856188,"definition":{"title":"Total & Live Connections & Sessions","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"Total Connections","formula":"query1"},{"alias":"Live Connections","formula":"query2"},{"alias":"Sessions","formula":"query3"}],"queries":[{"data_source":"metrics","name":"query1","query":"sum:emqx.connections.count{*}"},{"data_source":"metrics","name":"query2","query":"sum:emqx.live.connections.count{*}"},{"data_source":"metrics","name":"query3","query":"sum:emqx.sessions.count{*}"}],"response_format":"timeseries","style":{"palette":"purple","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":0,"y":2,"width":4,"height":3}},{"id":6321125189665220,"definition":{"title":"Total & Shared Topics","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"Total Topics","style":{"palette":"warm","palette_index":3},"formula":"query1"},{"alias":"Shared Topics","style":{"palette":"dd20","palette_index":14},"formula":"query2"}],"queries":[{"data_source":"metrics","name":"query1","query":"sum:emqx.topics.count{*}"},{"data_source":"metrics","name":"query2","query":"sum:emqx.subscriptions.shared.count{*}"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":4,"y":2,"width":4,"height":3}},{"id":5535076984298912,"definition":{"title":"Subscriptions","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"Total Subscriptions","formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"sum:emqx.suboptions.count{*}"}],"response_format":"timeseries","style":{"palette":"dog_classic","order_by":"values","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":8,"y":2,"width":4,"height":3}},{"id":1041766596384838,"definition":{"title":"Messages","background_color":"purple","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":8186603942134526,"definition":{"title":"Total Sent","title_size":"16","title_align":"left","type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"sum:emqx.messages.sent.count{*}.as_count()","aggregator":"sum"}],"formulas":[{"formula":"query1"}]}],"autoscale":true,"precision":2,"timeseries_background":{"yaxis":{"include_zero":false},"type":"area"}},"layout":{"x":0,"y":0,"width":3,"height":2}},{"id":7071966318947712,"definition":{"title":"Total Received","title_size":"16","title_align":"left","type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"sum:emqx.messages.received.count{*}.as_count()","aggregator":"sum"}],"formulas":[{"formula":"query1"}]}],"autoscale":true,"text_align":"center","precision":2,"timeseries_background":{"yaxis":{"include_zero":false},"type":"area"}},"layout":{"x":3,"y":0,"width":3,"height":2}},{"id":6404940602055702,"definition":{"title":"Delivery Dropped Rate","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"Total Dropped","formula":"query1"},{"alias":"Dropped Expired","formula":"query2"},{"alias":"Dropped No Local","formula":"query3"},{"alias":"Dropped QoS 0","formula":"query4"},{"alias":"Dropped Queue Full","formula":"query5"},{"alias":"Dropped Too Large","formula":"query6"}],"queries":[{"data_source":"metrics","name":"query1","query":"sum:emqx.delivery.dropped.count{*}.as_rate()"},{"data_source":"metrics","name":"query2","query":"sum:emqx.delivery.dropped.expired.count{*}.as_rate()"},{"data_source":"metrics","name":"query3","query":"sum:emqx.delivery.dropped.no_local.count{*}.as_rate()"},{"data_source":"metrics","name":"query4","query":"sum:emqx.delivery.dropped.qos0.msg.count{*}.as_rate()"},{"data_source":"metrics","name":"query5","query":"sum:emqx.delivery.dropped.queue_full.count{*}.as_rate()"},{"data_source":"metrics","name":"query6","query":"sum:emqx.delivery.dropped.too_large.count{*}.as_rate()"}],"response_format":"timeseries","style":{"palette":"red","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":6,"y":0,"width":6,"height":3}},{"id":6427746273706400,"definition":{"title":"Sent & Received Rate","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"Sent","formula":"query1"},{"alias":"Received","formula":"query2"}],"queries":[{"data_source":"metrics","name":"query1","query":"sum:emqx.messages.sent.count{*}.as_rate()"},{"data_source":"metrics","name":"query2","query":"sum:emqx.messages.received.count{*}.as_rate()"}],"response_format":"timeseries","style":{"palette":"dog_classic","order_reverse":false,"line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":0,"y":2,"width":6,"height":3}},{"id":821116083880016,"definition":{"title":"Traffic Statistics Rate","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"Received Bytes","formula":"query1"},{"alias":"Sent Bytes","formula":"query2"}],"queries":[{"data_source":"metrics","name":"query1","query":"sum:emqx.bytes.received.count{*}.as_count()"},{"data_source":"metrics","name":"query2","query":"sum:emqx.bytes.sent.count{*}.as_count()"}],"response_format":"timeseries","style":{"palette":"green","order_by":"values","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":6,"y":3,"width":6,"height":3}},{"id":3524025874235638,"definition":{"title":"Retained & Delayed Count","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"Retained Messages","formula":"query1"},{"alias":"Delayed Messages","formula":"query2"}],"queries":[{"data_source":"metrics","name":"query1","query":"sum:emqx.retained.count{*}"},{"data_source":"metrics","name":"query2","query":"sum:emqx.delayed.count{*}"}],"response_format":"timeseries","style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":0,"y":5,"width":6,"height":3}},{"id":730773798559952,"definition":{"title":"Total Sent Bytes","title_size":"16","title_align":"left","type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"sum:emqx.bytes.sent.count{*}.as_count()","aggregator":"sum"}],"formulas":[{"formula":"query1"}]}],"autoscale":true,"precision":2,"timeseries_background":{"type":"bars","yaxis":{}}},"layout":{"x":6,"y":6,"width":3,"height":2}},{"id":6620912273492890,"definition":{"title":"Total Received Byte","title_size":"16","title_align":"left","type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"sum:emqx.bytes.received.count{*}.as_count()","aggregator":"sum"}],"formulas":[{"formula":"query1"}]}],"autoscale":true,"precision":2,"timeseries_background":{"yaxis":{},"type":"bars"}},"layout":{"x":9,"y":6,"width":3,"height":2}}]},"layout":{"x":0,"y":11,"width":12,"height":9}},{"id":4367043005703234,"definition":{"title":"Client","background_color":"purple","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":3196258991351022,"definition":{"title":"Connected & Disconnected Rate","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"Connected","style":{"palette":"purple","palette_index":4},"formula":"query1"},{"alias":"Disconnected","style":{"palette":"warm","palette_index":4},"formula":"query2"}],"queries":[{"data_source":"metrics","name":"query1","query":"sum:emqx.client.connected.count{*}.as_rate()"},{"data_source":"metrics","name":"query2","query":"sum:emqx.client.disconnected.count{*}.as_rate()"}],"response_format":"timeseries","style":{"palette":"purple","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":0,"y":0,"width":12,"height":3}},{"id":2765688793246244,"definition":{"title":"Subscribe & Unsubscribe Rate","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"Subscribe","formula":"query1"},{"alias":"Unsubscrible","formula":"query2"}],"queries":[{"data_source":"metrics","name":"query1","query":"sum:emqx.client.subscribe.count{*}.as_rate()"},{"data_source":"metrics","name":"query2","query":"sum:emqx.client.unsubscribe.count{*}.as_rate()"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":0,"y":3,"width":6,"height":3}},{"id":2124244821789758,"definition":{"title":"AuthN & AuthZ Rate","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"AuthN","formula":"query1"},{"alias":"AuthZ","formula":"query2"}],"queries":[{"data_source":"metrics","name":"query1","query":"sum:emqx.client.authenticate.count{*}.as_rate()"},{"data_source":"metrics","name":"query2","query":"sum:emqx.client.authorize.count{*}.as_rate()"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":6,"y":3,"width":6,"height":3}}]},"layout":{"x":0,"y":20,"width":12,"height":7}},{"id":4127073997388922,"definition":{"title":"Erlang Metrics","background_color":"vivid_purple","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":237808831118572,"definition":{"title":"Erlang VM CPU","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"CPU Used","formula":"query1"},{"alias":"CPU Idle","formula":"query2"}],"queries":[{"data_source":"metrics","name":"query1","query":"sum:emqx.vm.cpu.use{*}"},{"data_source":"metrics","name":"query2","query":"sum:emqx.vm.cpu.idle{*}"}],"response_format":"timeseries","style":{"palette":"datadog16","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":0,"y":0,"width":6,"height":3}},{"id":3392903050467734,"definition":{"title":"Erlang VM Memory","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"Total Memory","formula":"query1"},{"alias":"Used Memory","formula":"query2"}],"queries":[{"data_source":"metrics","name":"query1","query":"sum:emqx.vm.total_memory{*}"},{"data_source":"metrics","name":"query2","query":"sum:emqx.vm.used_memory{*}"}],"response_format":"timeseries","style":{"palette":"datadog16","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":6,"y":0,"width":6,"height":3}},{"id":6314028427079226,"definition":{"title":"Erlang VM Run Queue","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"Run Queue","formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"sum:emqx.vm.run_queue{*}"}],"response_format":"timeseries","style":{"palette":"datadog16","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":0,"y":3,"width":6,"height":3}},{"id":4993294375621736,"definition":{"title":"Erlang VM Process Message Queue","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"Process Messages in Queues","formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"sum:emqx.vm.process.messages_in_queues{*}"}],"response_format":"timeseries","style":{"palette":"datadog16","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":6,"y":3,"width":6,"height":3}}]},"layout":{"x":0,"y":27,"width":12,"height":7}},{"id":3258928244810856,"definition":{"title":"Mria (Built-in Database) Status","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"Last Intercepted trans","formula":"query1"},{"alias":"Server MQL","formula":"query2"}],"queries":[{"data_source":"metrics","name":"query1","query":"avg:emqx.mria.last_intercepted_trans{*}"},{"data_source":"metrics","name":"query2","query":"avg:emqx.mria.server.mql{*}"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":0,"y":0,"width":12,"height":2}}],"template_variables":[{"name":"node","prefix":"endpoint","available_values":[],"default":"*"}],"layout_type":"ordered","notify_list":[],"reflow_type":"fixed"}