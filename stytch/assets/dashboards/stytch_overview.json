{"title":"Stytch Event Logs Overview","description":"This dashboard provides an overview of your [Stytch Event logs](https://stytch.com/docs/workspace-management/event-logs), and some high-level analytics on API health, as well as statistics on the different auth flows available with Stytch.\n\nFor more information, please visit [Stytch](https://stytch.com), or go to your [dashboard](https://stytch.com/dashboard).","widgets":[{"id":1936266559973148,"definition":{"title":"API health","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":8840848124851924,"definition":{"type":"image","url":"https://cdn.sanity.io/images/3jwyzebk/production/ec2290dd0d0880bcfcf705aeb056e6209808b0ef-2400x1260.png","sizing":"cover","has_background":true,"has_border":false,"vertical_align":"center","horizontal_align":"center"},"layout":{"x":0,"y":0,"width":3,"height":2}},{"id":229956304532285,"definition":{"title":"Total requests","title_size":"16","title_align":"left","type":"query_value","requests":[{"response_format":"scalar","queries":[{"name":"query1","data_source":"logs","search":{"query":"source:stytch @http.status_code:* $project_id $organization_id $action $user_id $member_id"},"indexes":["*"],"group_by":[],"compute":{"aggregation":"cardinality","metric":"@stytch.request.id"},"storage":"hot"}],"conditional_formats":[{"comparator":">=","value":0,"palette":"white_on_green"}],"formulas":[{"formula":"default_zero(query1)"}]}],"autoscale":true,"precision":2},"layout":{"x":3,"y":0,"width":3,"height":2}},{"id":8517800427827442,"definition":{"title":"Total 4XX responses","title_size":"16","title_align":"left","type":"query_value","requests":[{"response_format":"scalar","queries":[{"name":"query1","data_source":"logs","search":{"query":"source:stytch @http.status_code:[400 TO 499] $project_id $organization_id $action $user_id $member_id"},"indexes":["*"],"group_by":[],"compute":{"aggregation":"cardinality","metric":"@stytch.request.id"},"storage":"hot"}],"conditional_formats":[{"comparator":">=","value":0,"palette":"white_on_yellow"}],"formulas":[{"formula":"default_zero(query1)"}]}],"autoscale":true,"precision":2},"layout":{"x":6,"y":0,"width":3,"height":2}},{"id":4622660870331210,"definition":{"title":"Total 5XX responses","title_size":"16","title_align":"left","type":"query_value","requests":[{"response_format":"scalar","queries":[{"name":"query1","data_source":"logs","search":{"query":"source:stytch @http.status_code:[500 TO 599] $project_id $organization_id $action $user_id $member_id"},"indexes":["*"],"group_by":[],"compute":{"aggregation":"cardinality","metric":"@stytch.request.id"},"storage":"hot"}],"conditional_formats":[{"comparator":">=","value":0,"palette":"white_on_red"}],"formulas":[{"formula":"default_zero(query1)"}]}],"autoscale":true,"precision":2},"layout":{"x":9,"y":0,"width":3,"height":2}},{"id":1452215204724725,"definition":{"title":"Requests by status code","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"name":"query1","data_source":"logs","search":{"query":"source:stytch $project_id $organization_id $action $request_id $user_id $member_id $email_address $phone_number"},"indexes":["*"],"group_by":[{"facet":"@http.status_code","limit":100,"sort":{"aggregation":"cardinality","order":"desc","metric":"@stytch.request.id"},"should_exclude_missing":true}],"compute":{"aggregation":"cardinality","metric":"@stytch.request.id"},"storage":"hot"}],"formulas":[{"formula":"query1"}],"style":{"palette":"dog_classic","order_by":"values","line_type":"solid","line_width":"normal"},"display_type":"bars"}]},"layout":{"x":0,"y":2,"width":12,"height":4}},{"id":5434262255620865,"definition":{"title":"Top requests by action","title_size":"16","title_align":"left","type":"toplist","requests":[{"queries":[{"name":"query1","data_source":"logs","search":{"query":"source:stytch $project_id $organization_id $user_id $member_id"},"indexes":["*"],"group_by":[{"facet":"@stytch.action","limit":25,"sort":{"aggregation":"cardinality","order":"desc","metric":"@stytch.request.id"},"should_exclude_missing":true}],"compute":{"aggregation":"cardinality","metric":"@stytch.request.id"},"storage":"hot"}],"response_format":"scalar","formulas":[{"formula":"query1"}],"sort":{"count":25,"order_by":[{"type":"formula","index":0,"order":"desc"}]}}],"style":{"display":{"type":"stacked"}}},"layout":{"x":0,"y":6,"width":6,"height":4}},{"id":7712660451429351,"definition":{"title":"Top failing requests by action/status code","title_size":"16","title_align":"left","type":"toplist","requests":[{"queries":[{"name":"query1","data_source":"logs","search":{"query":"source:stytch status:(warn OR error) $project_id $organization_id $user_id $member_id"},"indexes":["*"],"group_by":[{"facet":"@stytch.action","limit":100,"sort":{"aggregation":"cardinality","order":"desc","metric":"@stytch.request.id"},"should_exclude_missing":true},{"facet":"@http.status_code","limit":10,"sort":{"aggregation":"cardinality","order":"desc","metric":"@stytch.request.id"},"should_exclude_missing":true}],"compute":{"aggregation":"cardinality","metric":"@stytch.request.id"},"storage":"hot"}],"response_format":"scalar","formulas":[{"formula":"query1"}],"sort":{"count":1000,"order_by":[{"type":"formula","index":0,"order":"desc"}]}}],"style":{"display":{"type":"stacked"}}},"layout":{"x":6,"y":6,"width":6,"height":4}},{"id":1510369688368527,"definition":{"title":"Error logs","title_size":"16","title_align":"left","requests":[{"response_format":"event_list","query":{"data_source":"logs_stream","query_string":"source:stytch status:(warn OR error) $project_id $organization_id $action $request_id $user_id $member_id","indexes":[],"storage":"hot"},"columns":[{"field":"status_line","width":"auto"},{"field":"timestamp","width":"auto"},{"field":"@stytch.action","width":"auto"},{"field":"@http.status_code","width":"auto"},{"field":"@error.kind","width":"auto"},{"field":"@error.message","width":"auto"}]}],"type":"list_stream"},"layout":{"x":0,"y":10,"width":12,"height":5}}]},"layout":{"x":0,"y":0,"width":12,"height":16}},{"id":8253532236526478,"definition":{"title":"Email analytics","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":6554070187631498,"definition":{"title":"EML authN rate","title_size":"16","title_align":"left","type":"query_value","requests":[{"response_format":"scalar","queries":[{"name":"query2","data_source":"logs","search":{"query":"source:stytch status:ok @stytch.action:(*MagicLinksAuthenticate OR *MagicLinksDiscoveryAuthenticate) $project_id $organization_id"},"indexes":["*"],"group_by":[],"compute":{"aggregation":"cardinality","metric":"@stytch.request.id"},"storage":"hot"},{"name":"query3","data_source":"logs","search":{"query":"source:stytch status:ok @stytch.action:(*MagicLinksEmailSend OR *MagicLinksEmailLoginOrCreate OR *MagicLinksEmailInvite OR *MagicLinksEmailLoginOrSignup OR *MagicLinksEmailDiscoverySend) $project_id $organization_id"},"indexes":["*"],"group_by":[],"compute":{"aggregation":"cardinality","metric":"@stytch.request.id"},"storage":"hot"}],"formulas":[{"number_format":{"unit":{"type":"canonical_unit","unit_name":"percent"}},"formula":"clamp_max((query2 / query3) * 100, 100)"}]}],"autoscale":true,"precision":2},"layout":{"x":0,"y":0,"width":3,"height":3}},{"id":4986939208190064,"definition":{"title":"EML flow by action","title_size":"16","title_align":"left","requests":[{"queries":[{"name":"query3","data_source":"logs","search":{"query":"source:stytch status:ok @stytch.action:(*MagicLinksEmailSend OR *MagicLinksEmailLoginOrCreate OR *MagicLinksEmailInvite OR *MagicLinksEmailLoginOrSignup OR *MagicLinksEmailDiscoverySend OR *MagicLinksAuthenticate OR *MagicLinksDiscoveryAuthenticate) $project_id $organization_id"},"indexes":["*"],"group_by":[{"facet":"@stytch.action","limit":250,"sort":{"aggregation":"cardinality","order":"desc","metric":"@stytch.request.id"},"should_exclude_missing":true}],"compute":{"aggregation":"cardinality","metric":"@stytch.request.id"},"storage":"hot"}],"response_format":"scalar","style":{"palette":"datadog16"},"formulas":[{"formula":"query3"}],"sort":{"count":250,"order_by":[{"type":"formula","index":0,"order":"desc"}]}}],"type":"sunburst","legend":{"type":"automatic"}},"layout":{"x":3,"y":0,"width":3,"height":3}},{"id":7230894749618633,"definition":{"title":"EMLs sent by geolocation","title_size":"16","title_align":"left","type":"geomap","requests":[{"queries":[{"name":"query1","data_source":"logs","search":{"query":"source:stytch status:ok @stytch.action:(*MagicLinksEmailSend OR *MagicLinksEmailLoginOrCreate OR *MagicLinksEmailInvite OR *MagicLinksEmailLoginOrSignup OR *MagicLinksEmailDiscoverySend) $project_id $organization_id"},"indexes":["*"],"group_by":[{"facet":"@network.client.geoip.country.iso_code","limit":1000,"sort":{"aggregation":"cardinality","order":"desc","metric":"@stytch.request.id"},"should_exclude_missing":true}],"compute":{"aggregation":"cardinality","metric":"@stytch.request.id"},"storage":"hot"}],"response_format":"scalar","formulas":[{"formula":"query1"}],"sort":{"count":1000,"order_by":[{"type":"formula","index":0,"order":"desc"}]}}],"style":{"palette":"hostmap_blues","palette_flip":false},"view":{"focus":"WORLD"}},"layout":{"x":6,"y":0,"width":6,"height":3}},{"id":1175788724940561,"definition":{"title":"EMLs sent and authenticated","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"queries":[{"name":"query1","data_source":"logs","search":{"query":"source:stytch @stytch.action:(*MagicLinksEmailLoginOrCreate OR *MagicLinksEmailLoginOrSignup OR *MagicLinksEmailDiscoverySend OR *MagicLinksEmailSend OR *MagicLinksEmailInvite OR *MultiTenantMagicLinksEmailInvite OR *MagicLinksAuthenticate OR *MagicLinksDiscoveryAuthenticate) $project_id $organization_id $action $request_id $user_id $member_id $email_address"},"indexes":["*"],"group_by":[{"facet":"@stytch.action","limit":100,"sort":{"aggregation":"count","order":"desc","metric":"count"},"should_exclude_missing":true},{"facet":"@stytch.request.status","limit":5,"sort":{"aggregation":"count","order":"desc","metric":"count"},"should_exclude_missing":true}],"compute":{"aggregation":"count"},"storage":"hot"}],"response_format":"timeseries","style":{"palette":"dog_classic","order_by":"values","line_type":"solid","line_width":"normal"},"display_type":"bars"}]},"layout":{"x":0,"y":3,"width":12,"height":4}},{"id":8203622555850162,"definition":{"title":"Email OTP authN rate","title_size":"16","title_align":"left","type":"query_value","requests":[{"response_format":"scalar","queries":[{"name":"query2","data_source":"logs","search":{"query":"source:stytch status:ok (@stytch.action:OTPsAuthenticate AND @method_id:email-*) OR @stytch.action:(*OTPsEmailAuthenticate OR *OTPsEmailDiscoveryAuthenticate) $project_id $organization_id"},"indexes":["*"],"group_by":[],"compute":{"aggregation":"cardinality","metric":"@stytch.request.id"},"storage":"hot"},{"name":"query3","data_source":"logs","search":{"query":"source:stytch status:ok @stytch.action:(*OTPsEmailSend OR *OTPsEmailLoginOrCreate OR *OTPsEmailLoginOrSignup OR *OTPsEmailDiscoverySend) $project_id $organization_id"},"indexes":["*"],"group_by":[],"compute":{"aggregation":"cardinality","metric":"@stytch.request.id"},"storage":"hot"}],"formulas":[{"number_format":{"unit":{"type":"canonical_unit","unit_name":"percent"}},"formula":"(query2 / query3) * 100"}]}],"autoscale":true,"precision":2},"layout":{"x":0,"y":7,"width":3,"height":3}},{"id":1052261477324701,"definition":{"title":"Email OTP flow by action","title_size":"16","title_align":"left","requests":[{"queries":[{"name":"query3","data_source":"logs","search":{"query":"source:stytch status:ok (@stytch.action:OTPsAuthenticate AND @method_id:email-*) OR @stytch.action:(*OTPsEmailSend OR *OTPsEmailLoginOrCreate OR *OTPsEmailLoginOrSignup OR *OTPsEmailDiscoverySend OR *OTPsEmailAuthenticate OR *OTPsEmailDiscoveryAuthenticate) $project_id $organization_id"},"indexes":["*"],"group_by":[{"facet":"@stytch.action","limit":250,"sort":{"aggregation":"cardinality","order":"desc","metric":"@stytch.request.id"},"should_exclude_missing":true}],"compute":{"aggregation":"cardinality","metric":"@stytch.request.id"},"storage":"hot"}],"response_format":"scalar","style":{"palette":"datadog16"},"formulas":[{"formula":"query3"}],"sort":{"count":250,"order_by":[{"type":"formula","index":0,"order":"desc"}]}}],"type":"sunburst","legend":{"type":"automatic"}},"layout":{"x":3,"y":7,"width":3,"height":3}},{"id":5911812692041553,"definition":{"title":"Email OTPs sent by geolocation","title_size":"16","title_align":"left","type":"geomap","requests":[{"queries":[{"name":"query1","data_source":"logs","search":{"query":"source:stytch status:ok @stytch.action:(*OTPsEmailSend OR *OTPsEmailLoginOrCreate OR *OTPsEmailLoginOrSignup OR *OTPsEmailDiscoverySend) $project_id $organization_id"},"indexes":["*"],"group_by":[{"facet":"@network.client.geoip.country.iso_code","limit":1000,"sort":{"aggregation":"cardinality","order":"desc","metric":"@stytch.request.id"},"should_exclude_missing":true}],"compute":{"aggregation":"cardinality","metric":"@stytch.request.id"},"storage":"hot"}],"response_format":"scalar","formulas":[{"formula":"query1"}],"sort":{"count":1000,"order_by":[{"type":"formula","index":0,"order":"desc"}]}}],"style":{"palette":"hostmap_blues","palette_flip":false},"view":{"focus":"WORLD"}},"layout":{"x":6,"y":7,"width":6,"height":3}},{"id":5385250351887292,"definition":{"title":"Email OTPs sent and authenticated","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"queries":[{"name":"query1","data_source":"logs","search":{"query":"source:stytch (@stytch.action:OTPsAuthenticate AND @method_id:email-*) OR @stytch.action:(*OTPsEmailSend OR *OTPsEmailLoginOrCreate OR *OTPsEmailLoginOrSignup OR *OTPsEmailDiscoverySend OR *OTPsEmailAuthenticate OR *OTPsEmailDiscoveryAuthenticate) $project_id $organization_id $action $request_id $user_id $member_id $email_address"},"indexes":["*"],"group_by":[{"facet":"@stytch.action","limit":100,"sort":{"aggregation":"count","order":"desc","metric":"count"},"should_exclude_missing":true},{"facet":"@stytch.request.status","limit":5,"sort":{"aggregation":"count","order":"desc","metric":"count"},"should_exclude_missing":true}],"compute":{"aggregation":"count"},"storage":"hot"}],"response_format":"timeseries","style":{"palette":"dog_classic","order_by":"values","line_type":"solid","line_width":"normal"},"display_type":"bars"}]},"layout":{"x":0,"y":10,"width":12,"height":4}},{"id":2278977576914310,"definition":{"title":"Email delivery success rate","title_size":"16","title_align":"left","type":"query_value","requests":[{"response_format":"scalar","queries":[{"name":"query2","data_source":"logs","search":{"query":"source:stytch @stytch.action:EmailDelivery @stytch.delivery.message_status:delivered $project_id $organization_id"},"indexes":["*"],"group_by":[],"compute":{"aggregation":"cardinality","metric":"@stytch.request.id"},"storage":"hot"},{"name":"query3","data_source":"logs","search":{"query":"source:stytch @stytch.action:EmailDelivery -@stytch.delivery.message_status:open $project_id $organization_id"},"indexes":["*"],"group_by":[],"compute":{"aggregation":"cardinality","metric":"@stytch.request.id"},"storage":"hot"}],"formulas":[{"number_format":{"unit":{"type":"canonical_unit","unit_name":"percent"}},"formula":"clamp_max((query2 / query3) * 100, 100)"}],"conditional_formats":[{"comparator":">=","value":15,"palette":"white_on_green"},{"comparator":"<","value":15,"palette":"white_on_red"}]}],"autoscale":true,"precision":2},"layout":{"x":0,"y":14,"width":3,"height":3}},{"id":2121052050777804,"definition":{"title":"Email open rate","title_size":"16","title_align":"left","type":"query_value","requests":[{"response_format":"scalar","queries":[{"name":"query2","data_source":"logs","search":{"query":"source:stytch @stytch.action:EmailDelivery @stytch.delivery.message_status:open $project_id $organization_id"},"indexes":["*"],"group_by":[],"compute":{"aggregation":"cardinality","metric":"@stytch.request.id"},"storage":"hot"},{"name":"query3","data_source":"logs","search":{"query":"source:stytch @stytch.action:EmailDelivery @stytch.delivery.message_status:delivered $project_id $organization_id"},"indexes":["*"],"group_by":[],"compute":{"aggregation":"cardinality","metric":"@stytch.request.id"},"storage":"hot"}],"formulas":[{"number_format":{"unit":{"type":"canonical_unit","unit_name":"percent"}},"formula":"clamp_max((query2 / query3) * 100, 100)"}]}],"autoscale":true,"precision":2},"layout":{"x":3,"y":14,"width":3,"height":3}},{"id":1972584775929863,"definition":{"title":"Email delivery avg latency","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"number_format":{"unit":{"type":"canonical_unit","unit_name":"second"}},"formula":"query1"}],"queries":[{"name":"query1","data_source":"logs","search":{"query":"source:stytch @stytch.action:EmailDelivery $project_id $organization_id $action $request_id $email_address"},"indexes":["*"],"group_by":[],"compute":{"aggregation":"avg","metric":"@stytch.delivery.latency_seconds"},"storage":"hot"}],"response_format":"scalar"}],"autoscale":true,"precision":2},"layout":{"x":6,"y":14,"width":3,"height":3}},{"id":8026265469184663,"definition":{"type":"note","content":"Emails can have several possible values for `message_status`:\n* `delivered`\n* `bounce`\n* `open`\n* `spam_complaint`\nFor more info, please see [this doc](https://stytch.com/docs/resources/message-deliverability/email).","background_color":"yellow","font_size":"14","text_align":"left","vertical_align":"center","show_tick":true,"tick_pos":"25%","tick_edge":"bottom","has_padding":true},"layout":{"x":9,"y":14,"width":3,"height":3}},{"id":2478577266980937,"definition":{"title":"Email delivery by status","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"name":"query1","data_source":"logs","search":{"query":"source:stytch @stytch.action:EmailDelivery $project_id $organization_id $action $request_id $email_address"},"indexes":["*"],"group_by":[{"facet":"@stytch.delivery.message_status","limit":10,"sort":{"aggregation":"count","order":"desc","metric":"count"},"should_exclude_missing":true}],"compute":{"aggregation":"count"},"storage":"hot"}],"formulas":[{"formula":"query1"}],"style":{"palette":"dog_classic","order_by":"values","line_type":"solid","line_width":"normal"},"display_type":"bars"}]},"layout":{"x":0,"y":17,"width":12,"height":4}},{"id":3298031056429309,"definition":{"title":"Email delivery latency","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"name":"query1","data_source":"logs","search":{"query":"source:stytch @stytch.action:EmailDelivery $project_id $organization_id $action $request_id $email_address"},"indexes":["*"],"group_by":[],"compute":{"aggregation":"avg","metric":"@stytch.delivery.latency_seconds"},"storage":"hot"}],"formulas":[{"number_format":{"unit":{"type":"canonical_unit","unit_name":"second"}},"formula":"query1"}],"style":{"palette":"dog_classic","order_by":"values","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":0,"y":21,"width":12,"height":4}}]},"layout":{"x":0,"y":16,"width":12,"height":26}},{"id":1883999515520589,"definition":{"title":"SMS analytics","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":446541575976669,"definition":{"title":"SMS OTP authN rate (B2C only)","title_size":"16","title_align":"left","type":"query_value","requests":[{"response_format":"scalar","queries":[{"name":"query2","data_source":"logs","search":{"query":"source:stytch status:ok (@stytch.action:OTPsAuthenticate AND @method_id:phone-*) $project_id $organization_id"},"indexes":["*"],"group_by":[],"compute":{"aggregation":"cardinality","metric":"@stytch.request.id"},"storage":"hot"},{"name":"query3","data_source":"logs","search":{"query":"source:stytch status:ok @stytch.action:(OTPsSMSSend OR OTPsSMSLoginOrCreate OR OTPsWhatsAppSend OR OTPsWhatsAppLoginOrCreate) $project_id $organization_id"},"indexes":["*"],"group_by":[],"compute":{"aggregation":"cardinality","metric":"@stytch.request.id"},"storage":"hot"}],"formulas":[{"number_format":{"unit":{"type":"canonical_unit","unit_name":"percent"}},"formula":"clamp_max((query2 / query3) * 100, 100)"}]}],"autoscale":true,"precision":2},"layout":{"x":0,"y":0,"width":3,"height":3}},{"id":1790856072972756,"definition":{"title":"SMS OTP flow by action","title_size":"16","title_align":"left","requests":[{"queries":[{"name":"query3","data_source":"logs","search":{"query":"source:stytch status:ok (@stytch.action:OTPsAuthenticate AND @method_id:phone-*) OR @stytch.action:(*OTPsSMSSend OR OTPsSMSLoginOrCreate OR OTPsWhatsAppSend OR OTPsWhatsAppLoginOrCreate OR *OTPsSMSAuthenticate) $project_id $organization_id"},"indexes":["*"],"group_by":[{"facet":"@stytch.action","limit":250,"sort":{"aggregation":"cardinality","order":"desc","metric":"@stytch.request.id"},"should_exclude_missing":true}],"compute":{"aggregation":"cardinality","metric":"@stytch.request.id"},"storage":"hot"}],"response_format":"scalar","style":{"palette":"datadog16"},"formulas":[{"formula":"query3"}],"sort":{"count":250,"order_by":[{"type":"formula","index":0,"order":"desc"}]}}],"type":"sunburst","legend":{"type":"automatic"}},"layout":{"x":3,"y":0,"width":3,"height":3}},{"id":6121651866104568,"definition":{"title":"SMS OTPs sent by geolocation","title_size":"16","title_align":"left","type":"geomap","requests":[{"queries":[{"name":"query1","data_source":"logs","search":{"query":"source:stytch status:ok @stytch.action:(*OTPsSMSSend OR OTPsSMSLoginOrCreate OR OTPsWhatsAppSend OR OTPsWhatsAppLoginOrCreate) $project_id $organization_id"},"indexes":["*"],"group_by":[{"facet":"@network.client.geoip.country.iso_code","limit":1000,"sort":{"aggregation":"cardinality","order":"desc","metric":"@stytch.request.id"},"should_exclude_missing":true}],"compute":{"aggregation":"cardinality","metric":"@stytch.request.id"},"storage":"hot"}],"response_format":"scalar","formulas":[{"formula":"query1"}],"sort":{"count":1000,"order_by":[{"type":"formula","index":0,"order":"desc"}]}}],"style":{"palette":"hostmap_blues","palette_flip":false},"view":{"focus":"WORLD"}},"layout":{"x":6,"y":0,"width":6,"height":3}},{"id":973698633663034,"definition":{"title":"SMS OTPs sent and authenticated","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"queries":[{"name":"query1","data_source":"logs","search":{"query":"source:stytch (@stytch.action:OTPsAuthenticate AND @method_id:phone-*) OR @stytch.action:(*OTPsSMSSend OR *OTPsSMSLoginOrCreate OR *OTPsWhatsAppSend OR *OTPsWhatsAppLoginOrCreate OR *MultiTenantOTPsSMSSend OR *OTPsSMSAuthenticate) $project_id $organization_id $action $request_id $user_id $member_id $phone_number"},"indexes":["*"],"group_by":[{"facet":"@stytch.action","limit":100,"sort":{"aggregation":"count","order":"desc","metric":"count"},"should_exclude_missing":true},{"facet":"@stytch.request.status","limit":5,"sort":{"aggregation":"count","order":"desc","metric":"count"},"should_exclude_missing":true}],"compute":{"aggregation":"count"},"storage":"hot"}],"response_format":"timeseries","style":{"palette":"dog_classic","order_by":"values","line_type":"solid","line_width":"normal"},"display_type":"bars"}]},"layout":{"x":0,"y":3,"width":12,"height":4}},{"id":8287188363166347,"definition":{"title":"SMS/WhatsApp delivery success rate","title_size":"16","title_align":"left","type":"query_value","requests":[{"response_format":"scalar","queries":[{"name":"query2","data_source":"logs","search":{"query":"source:stytch @stytch.action:SMSDelivery @stytch.delivery.message_status:delivered $project_id $organization_id"},"indexes":["*"],"group_by":[],"compute":{"aggregation":"cardinality","metric":"@stytch.request.id"},"storage":"hot"},{"name":"query3","data_source":"logs","search":{"query":"source:stytch @stytch.action:SMSDelivery @stytch.delivery.message_status:sent $project_id $organization_id"},"indexes":["*"],"group_by":[],"compute":{"aggregation":"cardinality","metric":"@stytch.request.id"},"storage":"hot"}],"formulas":[{"number_format":{"unit":{"type":"canonical_unit","unit_name":"percent"}},"formula":"clamp_max((query2 / query3) * 100, 100)"}],"conditional_formats":[{"comparator":">=","value":15,"palette":"white_on_green"},{"comparator":"<","value":15,"palette":"white_on_red"}]}],"autoscale":true,"precision":2},"layout":{"x":0,"y":7,"width":3,"height":3}},{"id":5789553857027310,"definition":{"type":"note","content":"SMS/WhatsApp messages can have several possible values for `message_status`:\n* `sent`\n* `delivered`\n* `undelivered`\n\nFor more info, please see [this doc](https://stytch.com/docs/resources/message-deliverability/sms-whatsapp).","background_color":"yellow","font_size":"14","text_align":"left","vertical_align":"center","show_tick":true,"tick_pos":"25%","tick_edge":"bottom","has_padding":true},"layout":{"x":9,"y":7,"width":3,"height":3}},{"id":7323147242688589,"definition":{"title":"SMS/WhatsApp message delivery by status","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"name":"query1","data_source":"logs","search":{"query":"source:stytch @stytch.action:SMSDelivery $project_id $organization_id $action $request_id $phone_number"},"indexes":["*"],"group_by":[{"facet":"@stytch.delivery.message_status","limit":10,"sort":{"aggregation":"count","order":"desc","metric":"count"},"should_exclude_missing":true}],"compute":{"aggregation":"count"},"storage":"hot"}],"formulas":[{"formula":"query1"}],"style":{"palette":"dog_classic","order_by":"values","line_type":"solid","line_width":"normal"},"display_type":"bars"}]},"layout":{"x":0,"y":10,"width":12,"height":4}}]},"layout":{"x":0,"y":42,"width":12,"height":15,"is_column_break":true}},{"id":8044017743505757,"definition":{"title":"TOTP analytics","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":1437825654778525,"definition":{"title":"TOTP authN rate","title_size":"16","title_align":"left","type":"query_value","requests":[{"response_format":"scalar","queries":[{"name":"query2","data_source":"logs","search":{"query":"source:stytch status:ok @stytch.action:(TOTPs* OR B2BTOTP*) $project_id $organization_id"},"indexes":["*"],"group_by":[],"compute":{"aggregation":"cardinality","metric":"@stytch.request.id"},"storage":"hot"},{"name":"query3","data_source":"logs","search":{"query":"source:stytch status:info @stytch.action:(TOTPs* OR B2BTOTP*) $project_id $organization_id"},"indexes":["*"],"group_by":[],"compute":{"aggregation":"cardinality","metric":"@stytch.request.id"},"storage":"hot"}],"formulas":[{"number_format":{"unit":{"type":"canonical_unit","unit_name":"percent"}},"formula":"clamp_max((query2 / query3) * 100, 100)"}]}],"autoscale":true,"precision":2},"layout":{"x":0,"y":0,"width":3,"height":3}},{"id":643895254136767,"definition":{"title":"TOTP flow by action","title_size":"16","title_align":"left","requests":[{"queries":[{"name":"query3","data_source":"logs","search":{"query":"source:stytch status:ok @stytch.action:(TOTPs* OR B2BTOTP*) $project_id $organization_id"},"indexes":["*"],"group_by":[{"facet":"@stytch.action","limit":250,"sort":{"aggregation":"cardinality","order":"desc","metric":"@stytch.request.id"},"should_exclude_missing":true}],"compute":{"aggregation":"cardinality","metric":"@stytch.request.id"},"storage":"hot"}],"response_format":"scalar","style":{"palette":"datadog16"},"formulas":[{"formula":"query3"}],"sort":{"count":250,"order_by":[{"type":"formula","index":0,"order":"desc"}]}}],"type":"sunburst","legend":{"type":"automatic"}},"layout":{"x":3,"y":0,"width":3,"height":3}},{"id":517012228444600,"definition":{"title":"TOTP authNs by geolocation","title_size":"16","title_align":"left","type":"geomap","requests":[{"queries":[{"name":"query1","data_source":"logs","search":{"query":"source:stytch status:ok @stytch.action:(TOTPs* OR B2BTOTP*) $project_id $organization_id"},"indexes":["*"],"group_by":[{"facet":"@network.client.geoip.country.iso_code","limit":1000,"sort":{"aggregation":"cardinality","order":"desc","metric":"@stytch.request.id"},"should_exclude_missing":true}],"compute":{"aggregation":"cardinality","metric":"@stytch.request.id"},"storage":"hot"}],"response_format":"scalar","formulas":[{"formula":"query1"}],"sort":{"count":1000,"order_by":[{"type":"formula","index":0,"order":"desc"}]}}],"style":{"palette":"hostmap_blues","palette_flip":false},"view":{"focus":"WORLD"}},"layout":{"x":6,"y":0,"width":6,"height":3}},{"id":4091732030234408,"definition":{"title":"TOTPs authenticated","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"queries":[{"name":"query1","data_source":"logs","search":{"query":"source:stytch @stytch.action:(TOTPs* OR B2BTOTP*) $project_id $organization_id $action $request_id $user_id $member_id"},"indexes":["*"],"group_by":[{"facet":"@stytch.action","limit":100,"sort":{"aggregation":"count","order":"desc","metric":"count"},"should_exclude_missing":true},{"facet":"@stytch.request.status","limit":5,"sort":{"aggregation":"count","order":"desc","metric":"count"},"should_exclude_missing":true}],"compute":{"aggregation":"count"},"storage":"hot"}],"response_format":"timeseries","style":{"palette":"dog_classic","order_by":"values","line_type":"solid","line_width":"normal"},"display_type":"bars"}]},"layout":{"x":0,"y":3,"width":12,"height":4}}]},"layout":{"x":0,"y":57,"width":12,"height":8}},{"id":4980482173900665,"definition":{"title":"OAuth analytics","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":5162674121955089,"definition":{"title":"OAuth authN rate","title_size":"16","title_align":"left","type":"query_value","requests":[{"response_format":"scalar","queries":[{"name":"query2","data_source":"logs","search":{"query":"source:stytch status:ok @stytch.action:(*OAuthAuthenticate OR B2BOAuthDiscoveryAuthenticate) $project_id $organization_id"},"indexes":["*"],"group_by":[],"compute":{"aggregation":"cardinality","metric":"@stytch.request.id"},"storage":"hot"},{"name":"query3","data_source":"logs","search":{"query":"source:stytch status:ok @stytch.action:(OAuth*Start OR B2BOAuthStart OR B2BOAuthDiscoveryStart) $project_id $organization_id"},"indexes":["*"],"group_by":[],"compute":{"aggregation":"cardinality","metric":"@stytch.request.id"},"storage":"hot"}],"formulas":[{"number_format":{"unit":{"type":"canonical_unit","unit_name":"percent"}},"formula":"clamp_max((query2 / query3) * 100, 100)"}]}],"autoscale":true,"precision":2},"layout":{"x":0,"y":0,"width":3,"height":3}},{"id":8824806521409964,"definition":{"title":"OAuth flow by action","title_size":"16","title_align":"left","requests":[{"queries":[{"name":"query3","data_source":"logs","search":{"query":"source:stytch status:ok @stytch.action:(OAuth*Start OR B2BOAuthStart OR B2BOAuthDiscoveryStart) $project_id $organization_id"},"indexes":["*"],"group_by":[{"facet":"@stytch.action","limit":250,"sort":{"aggregation":"cardinality","order":"desc","metric":"@stytch.request.id"},"should_exclude_missing":true}],"compute":{"aggregation":"cardinality","metric":"@stytch.request.id"},"storage":"hot"}],"response_format":"scalar","style":{"palette":"datadog16"},"formulas":[{"formula":"query3"}],"sort":{"count":250,"order_by":[{"type":"formula","index":0,"order":"desc"}]}}],"type":"sunburst","legend":{"type":"automatic"}},"layout":{"x":3,"y":0,"width":3,"height":3}},{"id":2706989056899672,"definition":{"title":"OAuth starts by provider","title_size":"16","title_align":"left","requests":[{"queries":[{"name":"query3","data_source":"logs","search":{"query":"source:stytch status:ok @stytch.action:(OAuth*Start OR B2BOAuthStart OR B2BOAuthDiscoveryStart) $project_id $organization_id"},"indexes":["*"],"group_by":[{"facet":"@oauth_provider","limit":250,"sort":{"aggregation":"cardinality","order":"desc","metric":"@stytch.request.id"},"should_exclude_missing":true}],"compute":{"aggregation":"cardinality","metric":"@stytch.request.id"},"storage":"hot"}],"response_format":"scalar","style":{"palette":"classic"},"formulas":[{"formula":"query3"}],"sort":{"count":250,"order_by":[{"type":"formula","index":0,"order":"desc"}]}}],"type":"sunburst","legend":{"type":"automatic"}},"layout":{"x":6,"y":0,"width":3,"height":3}},{"id":6374291569811751,"definition":{"title":"OAuth authNs by provider","title_size":"16","title_align":"left","requests":[{"queries":[{"name":"query3","data_source":"logs","search":{"query":"source:stytch status:ok @stytch.action:(*OAuthAuthenticate OR B2BOAuthDiscoveryAuthenticate) $project_id $organization_id"},"indexes":["*"],"group_by":[{"facet":"@oauth_provider","limit":250,"sort":{"aggregation":"cardinality","order":"desc","metric":"@stytch.request.id"},"should_exclude_missing":true}],"compute":{"aggregation":"cardinality","metric":"@stytch.request.id"},"storage":"hot"}],"response_format":"scalar","style":{"palette":"semantic"},"formulas":[{"formula":"query3"}],"sort":{"count":250,"order_by":[{"type":"formula","index":0,"order":"desc"}]}}],"type":"sunburst","hide_total":false,"legend":{"type":"automatic"}},"layout":{"x":9,"y":0,"width":3,"height":3}},{"id":3350570391682235,"definition":{"title":"OAuth logins started and authenticated","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"queries":[{"name":"query1","data_source":"logs","search":{"query":"source:stytch @stytch.action:(OAuth*Start OR B2BOAuthStart OR B2BOAuthDiscoveryStart OR *OAuthAuthenticate OR B2BOAuthDiscoveryAuthenticate) $project_id $organization_id $action $request_id"},"indexes":["*"],"group_by":[{"facet":"@stytch.action","limit":100,"sort":{"aggregation":"count","order":"desc","metric":"count"},"should_exclude_missing":true},{"facet":"@stytch.request.status","limit":5,"sort":{"aggregation":"count","order":"desc","metric":"count"},"should_exclude_missing":true}],"compute":{"aggregation":"count"},"storage":"hot"}],"response_format":"timeseries","style":{"palette":"dog_classic","order_by":"values","line_type":"solid","line_width":"normal"},"display_type":"bars"}]},"layout":{"x":0,"y":3,"width":12,"height":4}}]},"layout":{"x":0,"y":65,"width":12,"height":8}},{"id":2376929248593811,"definition":{"title":"SSO analytics","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":5809125637844384,"definition":{"title":"SSO authN rate","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"number_format":{"unit":{"type":"canonical_unit","unit_name":"percent"}},"formula":"clamp_max(query3 / query1 * 100, 100)"}],"queries":[{"name":"query3","data_source":"logs","search":{"query":"source:stytch status:ok @stytch.action:SSOAuthenticate @stytch.request.status:Success $project_id $organization_id"},"indexes":["*"],"group_by":[],"compute":{"aggregation":"count"},"storage":"hot"},{"name":"query1","data_source":"logs","search":{"query":"source:stytch status:info @stytch.action:SSOAuthenticate @stytch.request.status:Start $project_id $organization_id"},"indexes":["*"],"group_by":[],"compute":{"aggregation":"count"},"storage":"hot"}],"response_format":"scalar"}],"autoscale":true,"precision":2},"layout":{"x":0,"y":0,"width":3,"height":3}},{"id":7279019893879563,"definition":{"title":"SSO flow by action","title_size":"16","title_align":"left","requests":[{"queries":[{"name":"query3","data_source":"logs","search":{"query":"source:stytch status:ok @stytch.action:SSO* $project_id $organization_id"},"indexes":["*"],"group_by":[{"facet":"@stytch.action","limit":250,"sort":{"aggregation":"count","order":"desc","metric":"count"},"should_exclude_missing":true}],"compute":{"aggregation":"count"},"storage":"hot"}],"response_format":"scalar","style":{"palette":"datadog16"},"formulas":[{"formula":"query3"}],"sort":{"count":250,"order_by":[{"type":"formula","index":0,"order":"desc"}]}}],"type":"sunburst","legend":{"type":"automatic"}},"layout":{"x":3,"y":0,"width":3,"height":3}},{"id":4680303523398802,"definition":{"title":"SSO authNs by geolocation","title_size":"16","title_align":"left","type":"geomap","requests":[{"queries":[{"name":"query1","data_source":"logs","search":{"query":"source:stytch status:ok @stytch.action:SSOAuthenticate $project_id $organization_id"},"indexes":["*"],"group_by":[{"facet":"@network.client.geoip.country.iso_code","limit":1000,"sort":{"aggregation":"count","order":"desc","metric":"count"},"should_exclude_missing":true}],"compute":{"aggregation":"count"},"storage":"hot"}],"response_format":"scalar","formulas":[{"formula":"query1"}],"sort":{"count":1000,"order_by":[{"type":"formula","index":0,"order":"desc"}]}}],"style":{"palette":"hostmap_blues","palette_flip":false},"view":{"focus":"WORLD"}},"layout":{"x":6,"y":0,"width":6,"height":3}},{"id":5604837757577057,"definition":{"title":"SSO logins authenticated","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"queries":[{"name":"query1","data_source":"logs","search":{"query":"source:stytch @stytch.action:SSO* $project_id $organization_id $action $request_id $member_id"},"indexes":["*"],"group_by":[{"facet":"@stytch.action","limit":100,"sort":{"aggregation":"count","order":"desc","metric":"count"},"should_exclude_missing":true},{"facet":"@stytch.request.status","limit":5,"sort":{"aggregation":"count","order":"desc","metric":"count"},"should_exclude_missing":true}],"compute":{"aggregation":"count"},"storage":"hot"}],"response_format":"timeseries","style":{"palette":"dog_classic","order_by":"values","line_type":"solid","line_width":"normal"},"display_type":"bars"}]},"layout":{"x":0,"y":3,"width":12,"height":4}}]},"layout":{"x":0,"y":73,"width":12,"height":8}}],"template_variables":[{"name":"project_id","prefix":"@stytch.project_id","available_values":[],"default":"*"},{"name":"organization_id","prefix":"@stytch.organization_id","available_values":[],"default":"*"},{"name":"action","prefix":"@stytch.action","available_values":[],"default":"*"},{"name":"request_id","prefix":"@stytch.request.id","available_values":[],"default":"*"},{"name":"user_id","prefix":"@stytch.user_id","available_values":[],"default":"*"},{"name":"member_id","prefix":"@stytch.member_id","available_values":[],"default":"*"},{"name":"email_address","prefix":"@usr.email","available_values":[],"default":"*"},{"name":"phone_number","prefix":"@usr.phone_number","available_values":[],"default":"*"}],"layout_type":"ordered","notify_list":[],"reflow_type":"fixed"}