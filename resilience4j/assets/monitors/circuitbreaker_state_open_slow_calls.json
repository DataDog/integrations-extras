{
    "version": 2,
    "created_at": "2025-01-24",
    "last_updated_at": "2025-01-24",
    "title": "Circuit Breaker State Alert with Slow Calls",
    "tags": [
      "integration:resilience4j"
    ],
    "description": "This monitor alerts when the Circuit Breaker state with slow calls.",
    "definition": {
      "message": "The percentage of slow calls for the circuit breaker {{name.name}} is above 85%.\n\nService: {{name.name}}\n\nState: {{state.name}}",
      "name": "[Resilience4j] Circuit Breaker State Alert Slow Calls for {{name.name}}",
      "options": {
        "include_tags": true,
        "locked": false,
        "new_group_delay": 300,
        "notify_audit": false,
        "notify_no_data": false,
        "require_full_window": false,
        "thresholds": {
          "critical": 85,
          "warning": 70
        },
        "evaluation_delay": 30
      },
      "query": "avg(last_5m):sum:resilience4j.circuitbreaker.slow.calls.count{*} by {name,state} / sum:resilience4j.circuitbreaker.calls.seconds.count{*} by {name,state} * 100 > 85",
      "tags": [
        "integration:resilience4j"
      ],
      "type": "query alert"
    }
  }