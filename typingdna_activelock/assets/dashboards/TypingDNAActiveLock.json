{"title":"TypingDNA ActiveLock","description":"## Title\n\nDescribe this dashboard. Add links to other dashboards, monitors, wikis,  and docs to help your teammates. Markdown is supported.\n\n- [This might link to a dashboard](#)\n- [This might link to a wiki](#) (cloned) (cloned)","widgets":[{"id":3464202846327882,"definition":{"title":"Users and Apps","type":"group","background_color":"vivid_blue","show_title":true,"layout_type":"ordered","widgets":[{"id":5501809594424360,"definition":{"title":"Users","title_size":"16","title_align":"left","type":"query_table","requests":[{"formulas":[{"alias":"Avg score","formula":"query1"},{"alias":"Avg speed","formula":"query2"},{"alias":"Verifications","conditional_formats":[{"palette":"yellow_on_white","value":100,"comparator":"<"}],"limit":{"count":100,"order":"asc"},"cell_display_mode":"bar","formula":"query3"},{"alias":"Failed","conditional_formats":[{"palette":"red_on_white","value":0,"comparator":">"}],"cell_display_mode":"number","formula":"query4"},{"alias":"Training","conditional_formats":[{"palette":"green_on_white","value":500,"comparator":">"}],"cell_display_mode":"bar","formula":"query5"}],"response_format":"scalar","queries":[{"search":{"query":"(source:typingdna service:activelock) OR source:typingdna_activelock $host"},"data_source":"logs","compute":{"metric":"@score","aggregation":"avg"},"name":"query1","indexes":["*"],"group_by":[{"facet":"@username","sort":{"aggregation":"count","order":"desc"},"limit":10}]},{"search":{"query":"(source:typingdna service:activelock) OR source:typingdna_activelock $host"},"data_source":"logs","compute":{"metric":"@speed","aggregation":"avg"},"name":"query2","indexes":["*"],"group_by":[{"facet":"@username","sort":{"aggregation":"count","order":"desc"},"limit":10}]},{"search":{"query":"(source:typingdna service:activelock) OR source:typingdna_activelock @action:verify $host"},"data_source":"logs","compute":{"aggregation":"count"},"name":"query3","indexes":["*"],"group_by":[{"facet":"@username","sort":{"aggregation":"count","order":"asc"},"limit":100}]},{"search":{"query":"(source:typingdna service:activelock) OR source:typingdna_activelock @restul:FAIL $host"},"data_source":"logs","compute":{"aggregation":"count"},"name":"query4","indexes":["*"],"group_by":[{"facet":"@username","sort":{"aggregation":"count","order":"desc"},"limit":100}]},{"search":{"query":"(source:typingdna service:activelock) OR source:typingdna_activelock $host"},"data_source":"logs","compute":{"metric":"@training_strength","aggregation":"max"},"name":"query5","indexes":["*"],"group_by":[{"facet":"@username","sort":{"aggregation":"count","order":"desc"},"limit":1000}]}]}],"has_search_bar":"always"},"layout":{"x":0,"y":0,"width":4,"height":3}},{"id":768850866843830,"definition":{"title":"Main apps","title_size":"16","title_align":"left","requests":[{"formulas":[{"formula":"query1","limit":{"order":"desc"}}],"response_format":"scalar","queries":[{"search":{"query":"(source:typingdna service:activelock) OR source:typingdna_activelock @action:verify $username $installID $host"},"data_source":"logs","compute":{"aggregation":"count"},"name":"query1","indexes":["*"],"group_by":[{"facet":"@main_app","sort":{"aggregation":"count","order":"desc"},"limit":10}]}]}],"type":"sunburst","legend":{"type":"automatic"}},"layout":{"x":0,"y":3,"width":4,"height":4}},{"id":2766821940862888,"definition":{"title":"Verified unique user hours","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"Unique user hours","formula":"query1"}],"response_format":"timeseries","queries":[{"search":{"query":"(source:typingdna service:activelock) OR source:typingdna_activelock @action:verify $username $installID $host"},"data_source":"logs","compute":{"metric":"@installID","interval":3600000,"aggregation":"cardinality"},"name":"query1","indexes":["*"],"group_by":[]}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}]},"layout":{"x":0,"y":7,"width":4,"height":2}},{"id":2041409487515276,"definition":{"title":"User speed vs score","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"Speed","formula":"query1"}],"response_format":"timeseries","on_right_yaxis":true,"queries":[{"search":{"query":"(source:typingdna service:activelock) OR source:typingdna_activelock $username $installID $host"},"data_source":"logs","compute":{"metric":"@speed","aggregation":"avg"},"name":"query1","indexes":["*"],"group_by":[]}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"formulas":[{"alias":"Score","formula":"query0"}],"response_format":"timeseries","queries":[{"search":{"query":"(source:typingdna service:activelock) OR source:typingdna_activelock $username $installID $host"},"data_source":"logs","compute":{"metric":"@score","aggregation":"avg"},"name":"query0","indexes":["*"],"group_by":[]}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"markers":[{"value":"y = 50","display_type":"error dashed"}]},"layout":{"x":0,"y":9,"width":4,"height":2}}]},"layout":{"x":0,"y":0,"width":4,"height":14}},{"id":6008050990181690,"definition":{"title":"Stats","type":"group","background_color":"vivid_blue","show_title":true,"layout_type":"ordered","widgets":[{"id":7440366630578144,"definition":{"title":"Unique users","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query1"}],"response_format":"scalar","queries":[{"search":{"query":"(source:typingdna service:activelock) OR source:typingdna_activelock $username $installID $host"},"data_source":"logs","compute":{"metric":"@installID","aggregation":"cardinality"},"name":"query1","indexes":["*"],"group_by":[]}]}],"autoscale":true,"precision":2,"timeseries_background":{"type":"bars"}},"layout":{"x":0,"y":0,"width":2,"height":2}},{"id":8044139745836166,"definition":{"title":"Total logs","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query1"}],"response_format":"scalar","queries":[{"search":{"query":"(source:typingdna service:activelock) OR source:typingdna_activelock $username $installID $host"},"data_source":"logs","compute":{"aggregation":"count"},"name":"query1","indexes":["*"],"group_by":[]}]}],"autoscale":true,"precision":2,"timeseries_background":{"type":"bars"}},"layout":{"x":2,"y":0,"width":2,"height":2}},{"id":5253790999056998,"definition":{"title":"Total verifications","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query1"}],"response_format":"scalar","queries":[{"search":{"query":"(source:typingdna service:activelock) OR source:typingdna_activelock @action:verify $username $installID $host"},"data_source":"logs","compute":{"aggregation":"count"},"name":"query1","indexes":["*"],"group_by":[]}]}],"autoscale":true,"precision":2,"timeseries_background":{"type":"bars"}},"layout":{"x":4,"y":0,"width":1,"height":1}},{"id":855011522934808,"definition":{"title":"Avg score","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query1"}],"response_format":"scalar","queries":[{"search":{"query":"(source:typingdna service:activelock) OR source:typingdna_activelock $username $installID $host"},"data_source":"logs","compute":{"metric":"@score","aggregation":"avg"},"name":"query1","indexes":["*"],"group_by":[]}]}],"autoscale":true,"precision":0,"timeseries_background":{"type":"area","yaxis":{"include_zero":true}}},"layout":{"x":5,"y":0,"width":1,"height":1}},{"id":3455960258791906,"definition":{"type":"image","url":"https://www.typingdna.com/assets/images/logos/typingdna-activelock-logo.svg","sizing":"contain","margin":"lg","has_background":true,"has_border":true,"vertical_align":"center","horizontal_align":"center"},"layout":{"x":6,"y":0,"width":2,"height":1}},{"id":524055337737790,"definition":{"title":"Failed verifications","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query1"}],"conditional_formats":[{"comparator":">","palette":"red_on_white","value":10}],"response_format":"scalar","queries":[{"search":{"query":"(source:typingdna service:activelock) OR source:typingdna_activelock @result:FAIL $username $installID $host"},"data_source":"logs","compute":{"aggregation":"count"},"name":"query1","indexes":["*"],"group_by":[]}]}],"autoscale":true,"precision":2},"layout":{"x":4,"y":1,"width":1,"height":1}},{"id":2579038111246226,"definition":{"title":"Min score","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query1"}],"response_format":"scalar","queries":[{"search":{"query":"(source:typingdna service:activelock) OR source:typingdna_activelock $username $installID $host"},"data_source":"logs","compute":{"metric":"@score","aggregation":"min"},"name":"query1","indexes":["*"],"group_by":[]}]}],"autoscale":true,"precision":0,"timeseries_background":{"type":"area","yaxis":{"include_zero":true}}},"layout":{"x":5,"y":1,"width":1,"height":1}},{"id":2761686154859484,"definition":{"title":"Avg speed","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query1"}],"response_format":"scalar","queries":[{"search":{"query":"(source:typingdna service:activelock) OR source:typingdna_activelock $username $installID $host"},"data_source":"logs","compute":{"metric":"@speed","aggregation":"avg"},"name":"query1","indexes":["*"],"group_by":[]}]}],"autoscale":true,"precision":0,"timeseries_background":{"type":"area"}},"layout":{"x":6,"y":1,"width":1,"height":1}},{"id":7564433300804826,"definition":{"title":"Unique apps","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query1"}],"response_format":"scalar","queries":[{"search":{"query":"(source:typingdna service:activelock) OR source:typingdna_activelock $username $installID $host"},"data_source":"logs","compute":{"metric":"@main_app","aggregation":"cardinality"},"name":"query1","indexes":["*"],"group_by":[]}]}],"autoscale":true,"precision":2,"timeseries_background":{"type":"bars"}},"layout":{"x":7,"y":1,"width":1,"height":1}}]},"layout":{"x":4,"y":0,"width":8,"height":3}},{"id":5211189094564926,"definition":{"title":"Logs","type":"group","background_color":"vivid_blue","show_title":true,"layout_type":"ordered","widgets":[{"id":4070263098830900,"definition":{"title":"Verifications","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"All logs","style":{"palette_index":4,"palette":"classic"},"formula":"query0"}],"response_format":"timeseries","queries":[{"search":{"query":"(source:typingdna service:activelock) OR source:typingdna_activelock $username $installID $host"},"data_source":"logs","compute":{"interval":3600000,"aggregation":"count"},"name":"query0","indexes":["*"],"group_by":[]}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"formulas":[{"alias":"Verified","style":{"palette_index":1,"palette":"classic"},"formula":"query0"},{"alias":"Failed","style":{"palette_index":5,"palette":"warm"},"formula":"query1"}],"response_format":"timeseries","on_right_yaxis":true,"queries":[{"search":{"query":"(source:typingdna service:activelock) OR source:typingdna_activelock @action:verify $username $installID $host"},"data_source":"logs","compute":{"interval":3600000,"aggregation":"count"},"name":"query0","indexes":["*"],"group_by":[]},{"search":{"query":"(source:typingdna service:activelock) OR source:typingdna_activelock @action:verify @result:FAIL $username $installID $host"},"data_source":"logs","compute":{"interval":3600000,"aggregation":"count"},"name":"query1","indexes":["*"],"group_by":[]}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"markers":[{"value":"y = 0","display_type":"error dashed"}]},"layout":{"x":0,"y":0,"width":8,"height":4}},{"id":7960437102152068,"definition":{"title":"Verify logs","title_size":"16","title_align":"left","requests":[{"query":{"query_string":"(source:typingdna service:activelock) OR source:typingdna_activelock  @action:verify $username $installID $host","data_source":"logs_stream","indexes":[]},"response_format":"event_list","columns":[{"field":"status_line","width":"auto"},{"field":"timestamp","width":"auto"},{"field":"@username","width":"auto"},{"field":"@result","width":"auto"},{"field":"@score","width":"auto"},{"field":"@main_app","width":"auto"},{"field":"@speed","width":"auto"},{"field":"@training_strength","width":"auto"},{"field":"@keyboard_id","width":"auto"}]}],"type":"list_stream"},"layout":{"x":0,"y":4,"width":4,"height":5}},{"id":8809315327301026,"definition":{"title":"Failed","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"search":{"query":"(source:typingdna service:activelock) OR source:typingdna_activelock @result:FAIL $username $installID $host"},"data_source":"logs","compute":{"interval":3600000,"aggregation":"count"},"name":"query1","indexes":["*"],"group_by":[]}],"style":{"palette":"warm","line_type":"solid","line_width":"normal"},"display_type":"bars"}]},"layout":{"x":4,"y":4,"width":4,"height":2}},{"id":8005509614804508,"definition":{"title":"Failed logs","title_size":"16","title_align":"left","time":{},"requests":[{"query":{"query_string":"(source:typingdna service:activelock) OR source:typingdna_activelock @result:FAIL $username $installID $host","data_source":"logs_stream","indexes":[]},"response_format":"event_list","columns":[{"field":"status_line","width":"auto"},{"field":"timestamp","width":"auto"},{"field":"@username","width":"auto"},{"field":"@score","width":"auto"},{"field":"@main_app","width":"auto"},{"field":"@speed","width":"auto"},{"field":"@training_strength","width":"auto"},{"field":"@keyboard_id","width":"auto"}]}],"type":"list_stream"},"layout":{"x":4,"y":6,"width":4,"height":2}},{"id":2676265118007168,"definition":{"title":"All logs","title_size":"16","title_align":"left","requests":[{"query":{"query_string":"(source:typingdna service:activelock) OR source:typingdna_activelock $username $installID $host","sort":{"column":"timestamp","order":"desc"},"data_source":"logs_stream","storage":"hot","indexes":[]},"response_format":"event_list","columns":[{"field":"status_line","width":"auto"},{"field":"timestamp","width":"auto"},{"field":"host","width":"auto"},{"field":"service","width":"auto"},{"field":"content","width":"compact"}]}],"type":"list_stream"},"layout":{"x":4,"y":8,"width":4,"height":5}},{"id":6786342109503054,"definition":{"title":"Low scores (<50)","title_size":"16","title_align":"left","requests":[{"query":{"query_string":"(source:typingdna service:activelock) OR source:typingdna_activelock  @action:verify @score:<50 $username $installID $host","data_source":"logs_stream","indexes":[]},"response_format":"event_list","columns":[{"field":"status_line","width":"auto"},{"field":"timestamp","width":"auto"},{"field":"@username","width":"auto"},{"field":"@result","width":"auto"},{"field":"@score","width":"auto"},{"field":"@main_app","width":"auto"},{"field":"@speed","width":"auto"},{"field":"@training_strength","width":"auto"},{"field":"@keyboard_id","width":"auto"}]}],"type":"list_stream"},"layout":{"x":0,"y":9,"width":4,"height":4}}]},"layout":{"x":4,"y":3,"width":8,"height":14}},{"id":7315209466351582,"definition":{"title":"Alerts","title_size":"16","title_align":"left","type":"event_stream","query":"@evt.name:\"ActiveLock Alert\" $host","event_size":"s"},"layout":{"x":0,"y":14,"width":4,"height":3}}],"template_variables":[{"name":"host","prefix":"host","available_values":[],"default":"*"},{"name":"username","prefix":"@username","available_values":[],"default":"*"},{"name":"installID","prefix":"@installID","available_values":[],"default":"*"}],"layout_type":"ordered","is_read_only":false,"notify_list":[],"reflow_type":"fixed","id":"fak-p72-pvr"}