{
  "title": "Redis Enterprise Overview",
  "description": "Redis is a source available, in-memory storage, used as a distributed, in-memory keyâ€“value database, cache and message broker, with optional durability. Because it holds all data in memory and because of its design, Redis offers low-latency reads and writes, making it particularly suitable for use cases that require a cache. Redis is the most popular NoSQL database, and one of the most popular databases overall.",
  "widgets": [
    {
      "id": 325090501093728,
      "definition": {
        "title": "About Redis Enterprise",
        "banner_img": "https://raw.githubusercontent.com/DataDog/integrations-extras/858445dcbc2bb7ecbea99109442decce7c45b67e/redis_enterprise/assets/logos/logo.svg",
        "show_title": false,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 6544225029855812,
            "definition": {
              "type": "note",
              "content": "Redis Enterprise and Redis Cloud expose database metrics using a Prometheus endpoint. To collect and view these metrics, you will need an observabilty platform, such as Datadog.\n\nPlease see Redis [Monitoring with metrics and alerts](https://docs.redis.com/latest/rs/clusters/monitoring/) to learn more. ",
              "background_color": "white",
              "font_size": "14",
              "text_align": "left",
              "vertical_align": "top",
              "show_tick": false,
              "tick_pos": "50%",
              "tick_edge": "left",
              "has_padding": true
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 3,
              "height": 2
            }
          },
          {
            "id": 8343198518751352,
            "definition": {
              "title": "Database List",
              "title_size": "16",
              "title_align": "left",
              "type": "query_table",
              "requests": [
                {
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:rdse2.database_syncer_config{$cluster} by {cluster,db_name}",
                      "aggregator": "avg"
                    }
                  ],
                  "response_format": "scalar",
                  "sort": {
                    "count": 500,
                    "order_by": [
                      {
                        "type": "formula",
                        "index": 0,
                        "order": "desc"
                      }
                    ]
                  },
                  "formulas": [
                    {
                      "conditional_formats": [
                        {
                          "comparator": "=",
                          "value": 1,
                          "palette": "white_on_green"
                        }
                      ],
                      "cell_display_mode": "bar",
                      "alias": "Up",
                      "formula": "query1"
                    }
                  ]
                }
              ],
              "has_search_bar": "auto"
            },
            "layout": {
              "x": 3,
              "y": 0,
              "width": 5,
              "height": 4
            }
          },
          {
            "id": 7032118608350450,
            "definition": {
              "type": "note",
              "content": "This integration makes it possible to:\n\n- Collect and display metrics not available in the admin console\n\n- Set up automatic alerts for node or cluster events\n\n- Display these metrics alongside data from other systems",
              "background_color": "white",
              "font_size": "14",
              "text_align": "left",
              "vertical_align": "top",
              "show_tick": false,
              "tick_pos": "50%",
              "tick_edge": "left",
              "has_padding": true
            },
            "layout": {
              "x": 0,
              "y": 2,
              "width": 3,
              "height": 2
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 0,
        "width": 8,
        "height": 7
      }
    },
    {
      "id": 1741971994096136,
      "definition": {
        "title": "Cluster Overview",
        "background_color": "white",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 8029506703102670,
            "definition": {
              "title": "Used Memory",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "name": "query1",
                      "data_source": "metrics",
                      "query": "avg:rdse2.redis_server_used_memory{$cluster}",
                      "aggregator": "last"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 2,
              "timeseries_background": {
                "yaxis": {},
                "type": "bars"
              }
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 4,
              "height": 2
            }
          },
          {
            "id": 3546285905369666,
            "definition": {
              "title": "Number of Keys",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "name": "query1",
                      "data_source": "metrics",
                      "query": "avg:rdse2.redis_server_db0_keys{$cluster}",
                      "aggregator": "avg"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 2,
              "timeseries_background": {
                "yaxis": {
                  "include_zero": false
                },
                "type": "area"
              }
            },
            "layout": {
              "x": 0,
              "y": 2,
              "width": 4,
              "height": 2
            }
          },
          {
            "id": 8680298604183056,
            "definition": {
              "title": "Live Nodes",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "name": "query1",
                      "data_source": "metrics",
                      "query": "avg:rdse2.total_live_nodes_count{$cluster}",
                      "aggregator": "avg"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 2,
              "timeseries_background": {
                "type": "area"
              }
            },
            "layout": {
              "x": 0,
              "y": 4,
              "width": 4,
              "height": 2
            }
          }
        ]
      },
      "layout": {
        "x": 8,
        "y": 0,
        "width": 4,
        "height": 7
      }
    },
    {
      "id": 690893075866548,
      "definition": {
        "title": "Latency",
        "background_color": "vivid_orange",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 1508854872890636,
            "definition": {
              "type": "note",
              "content": "Latency is the length of time it takes for the system to respond.",
              "background_color": "orange",
              "font_size": "14",
              "text_align": "left",
              "vertical_align": "top",
              "show_tick": false,
              "tick_pos": "50%",
              "tick_edge": "left",
              "has_padding": true
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 12,
              "height": 1
            }
          },
          {
            "id": 2184303700391838,
            "definition": {
              "title": "Cluster Latencies",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "value"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "read",
                      "formula": "query2 / query4 / 1000",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "millisecond"
                        }
                      }
                    },
                    {
                      "alias": "write",
                      "formula": "query5 / query6 / 1000",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "millisecond"
                        }
                      }
                    },
                    {
                      "alias": "other",
                      "formula": "query1 / query3 / 1000",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "millisecond"
                        }
                      }
                    }
                  ],
                  "queries": [
                    {
                      "name": "query2",
                      "data_source": "metrics",
                      "query": "max:rdse2.endpoint_read_requests_latency_histogram.sum{$cluster}"
                    },
                    {
                      "name": "query4",
                      "data_source": "metrics",
                      "query": "max:rdse2.endpoint_read_requests_latency_histogram.count{$cluster}"
                    },
                    {
                      "name": "query5",
                      "data_source": "metrics",
                      "query": "max:rdse2.endpoint_write_requests_latency_histogram.sum{$cluster}"
                    },
                    {
                      "name": "query6",
                      "data_source": "metrics",
                      "query": "max:rdse2.endpoint_write_requests_latency_histogram.count{$cluster}"
                    },
                    {
                      "name": "query1",
                      "data_source": "metrics",
                      "query": "max:rdse2.endpoint_other_requests_latency_histogram.sum{$cluster}"
                    },
                    {
                      "name": "query3",
                      "data_source": "metrics",
                      "query": "max:rdse2.endpoint_other_requests_latency_histogram.count{$cluster}"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "orange",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 1,
              "width": 12,
              "height": 4
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 7,
        "width": 12,
        "height": 6
      }
    },
    {
      "id": 274546046144418,
      "definition": {
        "title": "Memory",
        "background_color": "vivid_blue",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 5205778284461508,
            "definition": {
              "type": "note",
              "content": "Memory limits how much data Redis can store.\n",
              "background_color": "blue",
              "font_size": "14",
              "text_align": "left",
              "vertical_align": "top",
              "show_tick": false,
              "tick_pos": "50%",
              "tick_edge": "left",
              "has_padding": true
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 6,
              "height": 1
            }
          },
          {
            "id": 5161979676758438,
            "definition": {
              "title": "Cluster Memory by Database",
              "title_size": "16",
              "title_align": "left",
              "requests": [
                {
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:rdse2.redis_server_used_memory{$cluster} by {db}",
                      "aggregator": "avg"
                    }
                  ],
                  "response_format": "scalar",
                  "style": {
                    "palette": "datadog16"
                  },
                  "formulas": [
                    {
                      "formula": "query1",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_binary_bytes_family"
                        }
                      }
                    }
                  ],
                  "sort": {
                    "count": 500,
                    "order_by": [
                      {
                        "type": "formula",
                        "index": 0,
                        "order": "desc"
                      }
                    ]
                  }
                }
              ],
              "type": "sunburst",
              "legend": {
                "type": "automatic"
              }
            },
            "layout": {
              "x": 0,
              "y": 1,
              "width": 6,
              "height": 5
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 0,
        "width": 6,
        "height": 7
      }
    },
    {
      "id": 3955370034957714,
      "definition": {
        "title": "Keys",
        "background_color": "vivid_green",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 4698654642100834,
            "definition": {
              "type": "note",
              "content": "Keys represent individual pieces of data in Redis\n\n",
              "background_color": "green",
              "font_size": "14",
              "text_align": "left",
              "vertical_align": "top",
              "show_tick": false,
              "tick_pos": "50%",
              "tick_edge": "left",
              "has_padding": true
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 6,
              "height": 1
            }
          },
          {
            "id": 1290921415908062,
            "definition": {
              "title": "Cluster Keys by Database",
              "title_size": "16",
              "title_align": "left",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "query": "avg:rdse2.redis_server_db0_keys{$cluster} by {db}",
                      "data_source": "metrics",
                      "name": "query1",
                      "aggregator": "avg"
                    }
                  ],
                  "style": {
                    "palette": "semantic"
                  },
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ],
                  "sort": {
                    "count": 500,
                    "order_by": [
                      {
                        "type": "formula",
                        "index": 0,
                        "order": "desc"
                      }
                    ]
                  }
                }
              ],
              "type": "sunburst",
              "legend": {
                "type": "automatic"
              }
            },
            "layout": {
              "x": 0,
              "y": 1,
              "width": 6,
              "height": 5
            }
          }
        ]
      },
      "layout": {
        "x": 6,
        "y": 0,
        "width": 6,
        "height": 7
      }
    },
    {
      "id": 3112318046315726,
      "definition": {
        "title": "Requests",
        "background_color": "vivid_yellow",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 3606284556444836,
            "definition": {
              "type": "note",
              "content": "Requests represent read, write, and all other requests",
              "background_color": "yellow",
              "font_size": "14",
              "text_align": "left",
              "vertical_align": "top",
              "show_tick": false,
              "tick_pos": "50%",
              "tick_edge": "left",
              "has_padding": true
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 12,
              "height": 1
            }
          },
          {
            "id": 2538664554748292,
            "definition": {
              "title": "Cluster Requests",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "read",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "operation"
                        }
                      },
                      "formula": "query2"
                    },
                    {
                      "alias": "write",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "operation"
                        }
                      },
                      "formula": "query3"
                    },
                    {
                      "alias": "other",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "operation"
                        }
                      },
                      "formula": "query4"
                    }
                  ],
                  "queries": [
                    {
                      "name": "query2",
                      "data_source": "metrics",
                      "query": "sum:rdse2.endpoint_read_requests.count{$cluster}.as_count()"
                    },
                    {
                      "name": "query3",
                      "data_source": "metrics",
                      "query": "sum:rdse2.endpoint_write_requests.count{$cluster}.as_count()"
                    },
                    {
                      "name": "query4",
                      "data_source": "metrics",
                      "query": "sum:rdse2.endpoint_other_requests.count{$cluster}.as_count()"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "warm",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 1,
              "width": 12,
              "height": 4
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 0,
        "width": 12,
        "height": 6,
        "is_column_break": true
      }
    },
    {
      "id": 4219969013847768,
      "definition": {
        "title": "Cluster Databases",
        "background_color": "vivid_pink",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 6536426319322986,
            "definition": {
              "type": "note",
              "content": "The input, and/or output, of a database is the measure of how much information is being processed.",
              "background_color": "pink",
              "font_size": "14",
              "text_align": "left",
              "vertical_align": "top",
              "show_tick": false,
              "tick_pos": "50%",
              "tick_edge": "left",
              "has_padding": true
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 12,
              "height": 1
            }
          },
          {
            "id": 4769253717429932,
            "definition": {
              "title": "Database Input/Output",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "vertical",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "egress",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte"
                        }
                      },
                      "formula": "per_second(query1)"
                    },
                    {
                      "alias": "ingress",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte"
                        }
                      },
                      "formula": "per_second(query2)"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:rdse2.endpoint_ingress{$cluster} by {db}.as_count()"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "avg:rdse2.endpoint_egress{$cluster} by {db}.as_count()"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 1,
              "width": 8,
              "height": 5
            }
          },
          {
            "id": 457640250423346,
            "definition": {
              "type": "note",
              "content": "- ingress - Rate of outgoing network traffic from the DB\n- egress - Rate of incoming network traffic to DB",
              "background_color": "vivid_pink",
              "font_size": "12",
              "text_align": "left",
              "vertical_align": "top",
              "show_tick": false,
              "tick_pos": "50%",
              "tick_edge": "left",
              "has_padding": true
            },
            "layout": {
              "x": 8,
              "y": 1,
              "width": 4,
              "height": 2
            }
          },
          {
            "id": 5876702503733602,
            "definition": {
              "title": "Database Connections",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:rdse2.endpoint_client_connections{*}",
                      "aggregator": "avg"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:rdse2.endpoint_client_disconnections{*}",
                      "aggregator": "avg"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1 - query2"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 2,
              "timeseries_background": {
                "yaxis": {
                  "include_zero": false
                },
                "type": "bars"
              }
            },
            "layout": {
              "x": 8,
              "y": 3,
              "width": 4,
              "height": 3
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 6,
        "width": 12,
        "height": 7
      }
    },
    {
      "id": 7495716450414166,
      "definition": {
        "title": "Database Shards",
        "background_color": "vivid_pink",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 5309930525296140,
            "definition": {
              "type": "note",
              "content": "The individual partitions of a clustered database and the keys they contain can tells us if they are unbalanced.",
              "background_color": "pink",
              "font_size": "14",
              "text_align": "left",
              "vertical_align": "top",
              "show_tick": false,
              "tick_pos": "50%",
              "tick_edge": "left",
              "has_padding": true
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 12,
              "height": 1
            }
          },
          {
            "id": 6432709391941936,
            "definition": {
              "title": "Shard Keys",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "vertical",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "alias": "evicted",
                      "formula": "query1"
                    },
                    {
                      "alias": "expired",
                      "formula": "query2"
                    },
                    {
                      "alias": "trimmed",
                      "formula": "query3"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:rdse2.redis_server_evicted_keys{$cluster}.rollup(avg)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "avg:rdse2.redis_server_expired_keys{$cluster}.rollup(avg)"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "avg:rdse2.redis_server_keys_trimmed{$cluster}.rollup(avg)"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 1,
              "width": 8,
              "height": 6
            }
          },
          {
            "id": 5424811187083390,
            "definition": {
              "type": "note",
              "content": "- expired - Rate keys expired in DB\n- evicted - Rate of key evictions from DB\n- trimmed - The number of keys that were trimmed in the current or last resharding process",
              "background_color": "vivid_pink",
              "font_size": "12",
              "text_align": "left",
              "vertical_align": "top",
              "show_tick": false,
              "tick_pos": "50%",
              "tick_edge": "left",
              "has_padding": true
            },
            "layout": {
              "x": 8,
              "y": 1,
              "width": 4,
              "height": 3
            }
          },
          {
            "id": 8362565841882014,
            "definition": {
              "title": "Average Keys per Shard",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "avg:rdse2.redis_server_db0_keys{$cluster}",
                      "aggregator": "avg"
                    }
                  ],
                  "formulas": [
                    {
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "key"
                        }
                      },
                      "formula": "query1"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 2,
              "timeseries_background": {
                "yaxis": {
                  "include_zero": false
                },
                "type": "area"
              }
            },
            "layout": {
              "x": 8,
              "y": 4,
              "width": 4,
              "height": 3
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 13,
        "width": 12,
        "height": 8
      }
    },
    {
      "id": 8042636883078401,
      "definition": {
        "title": "",
        "title_size": "16",
        "title_align": "left",
        "type": "query_table",
        "requests": [
          {
            "queries": [
              {
                "data_source": "metrics",
                "name": "query1",
                "query": "count:rdse2.database_syncer_config{$cluster}",
                "aggregator": "last"
              }
            ],
            "response_format": "scalar",
            "sort": {
              "count": 10,
              "order_by": [
                {
                  "type": "formula",
                  "index": 0,
                  "order": "desc"
                }
              ]
            },
            "formulas": [
              {
                "cell_display_mode": "bar",
                "formula": "query1"
              }
            ]
          }
        ],
        "has_search_bar": "auto"
      },
      "layout": {
        "x": 0,
        "y": 0,
        "width": 4,
        "height": 4
      }
    }
  ],
  "template_variables": [
    {
      "name": "cluster",
      "prefix": "cluster",
      "available_values": [],
      "default": "*"
    }
  ],
  "layout_type": "ordered",
  "notify_list": [],
  "reflow_type": "fixed"
}
