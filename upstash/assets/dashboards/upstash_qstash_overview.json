{
  "title": "Upstash QStash - Overview",
  "description": "This dashboard provides an overview of the resource utilization and key performance indicators related to your QStash activity. It serves as your central hub for monitoring, troubleshooting, and tracking the cost of your Upstash QStash messaging operations.\n\nWith this dashboard, you can proactively address performance issues, optimize message delivery, and manage your QStash costs effectively.",
  "widgets": [
    {
      "id": 996904437902644,
      "definition": {
        "title": "",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 4506160814656580,
            "definition": {
              "type": "image",
              "url": "https://mintlify.s3-us-west-1.amazonaws.com/upstash/logo/upstash-white-bg.svg",
              "sizing": "contain",
              "has_background": false,
              "has_border": false,
              "vertical_align": "center",
              "horizontal_align": "center"
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 6,
              "height": 2
            }
          },
          {
            "id": 3409502508415138,
            "definition": {
              "type": "note",
              "content": "This dashboard shows storage breakdowns, connection counts, and query statistics that summarize your Upstash database performance.\n\n#### [Datadog Integration Documentation ↗](https://upstash.com/docs) ####\n\n#### [Upstash Documentation ↗](https://upstash.com/docs) ####",
              "background_color": "white",
              "font_size": "14",
              "text_align": "left",
              "vertical_align": "top",
              "show_tick": false,
              "tick_pos": "50%",
              "tick_edge": "left",
              "has_padding": true
            },
            "layout": {
              "x": 0,
              "y": 2,
              "width": 6,
              "height": 2
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 0,
        "width": 6,
        "height": 5
      }
    },
    {
      "id": 1187373831296820,
      "definition": {
        "title": "                                                        Overview",
        "background_color": "vivid_green",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 817293377427530,
            "definition": {
              "title": "Daily Messages",
              "title_size": "16",
              "title_align": "left",
              "time": {},
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:upstash.qstash.daily_messages{$team, $region}",
                      "aggregator": "last"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 0
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 2,
              "height": 1
            }
          },
          {
            "id": 1045943157630872,
            "definition": {
              "title": "Daily Failed Messages",
              "title_size": "16",
              "title_align": "left",
              "time": {},
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:upstash.qstash.daily_failed{$team, $region}",
                      "aggregator": "last"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 0
            },
            "layout": {
              "x": 2,
              "y": 0,
              "width": 2,
              "height": 1
            }
          },
          {
            "id": 7236388538185138,
            "definition": {
              "title": "Daily Canceled",
              "title_size": "16",
              "title_align": "left",
              "time": {},
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:upstash.qstash.daily_canceled{$team, $region}",
                      "aggregator": "last"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 0,
              "timeseries_background": {
                "type": "bars"
              }
            },
            "layout": {
              "x": 4,
              "y": 0,
              "width": 2,
              "height": 1
            }
          },
          {
            "id": 5358420418174018,
            "definition": {
              "title": "Daily Delivered",
              "title_size": "16",
              "title_align": "left",
              "time": {},
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:upstash.qstash.daily_delivered{$team, $region}",
                      "aggregator": "last"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 2
            },
            "layout": {
              "x": 0,
              "y": 1,
              "width": 3,
              "height": 1
            }
          },
          {
            "id": 5203087357950488,
            "definition": {
              "title": "Daily Retry",
              "title_size": "16",
              "title_align": "left",
              "time": {},
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:upstash.qstash.daily_retry{$team, $region}",
                      "aggregator": "last"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 0
            },
            "layout": {
              "x": 3,
              "y": 1,
              "width": 3,
              "height": 1
            }
          },
          {
            "id": 3325592892380178,
            "definition": {
              "title": "Daily Error",
              "title_size": "16",
              "title_align": "left",
              "time": {},
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:upstash.qstash.daily_error{$team, $region}",
                      "aggregator": "last"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 0
            },
            "layout": {
              "x": 0,
              "y": 2,
              "width": 3,
              "height": 1
            }
          },
          {
            "id": 8379623304794482,
            "definition": {
              "title": "Daily Bandwidth Used",
              "title_size": "16",
              "title_align": "left",
              "time": {},
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:upstash.qstash.daily_bandwidth_used{$team, $region}",
                      "aggregator": "max"
                    }
                  ],
                  "formulas": [
                    {
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_decimal_bytes_family"
                        }
                      },
                      "formula": "query1"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 2
            },
            "layout": {
              "x": 3,
              "y": 2,
              "width": 3,
              "height": 1
            }
          },
          {
            "id": 2195024240672616,
            "definition": {
              "title": "Queue Count",
              "title_size": "16",
              "title_align": "left",
              "time": {},
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:upstash.qstash.queue_count{$team, $region}",
                      "aggregator": "last"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ]
                }
              ],
              "autoscale": false,
              "precision": 0
            },
            "layout": {
              "x": 0,
              "y": 3,
              "width": 3,
              "height": 1
            }
          },
          {
            "id": 5290978297193452,
            "definition": {
              "title": "Schedule Count",
              "title_size": "16",
              "title_align": "left",
              "time": {},
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:upstash.qstash.schedule_count{$team, $region}",
                      "aggregator": "last"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 0
            },
            "layout": {
              "x": 3,
              "y": 3,
              "width": 3,
              "height": 1
            }
          }
        ]
      },
      "layout": {
        "x": 6,
        "y": 0,
        "width": 6,
        "height": 5
      }
    },
    {
      "id": 8561993874368468,
      "definition": {
        "title": "Time Series",
        "background_color": "green",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 5025245256909470,
            "definition": {
              "title": "Message Status Historical",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "time": {},
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    },
                    {
                      "formula": "query2"
                    },
                    {
                      "formula": "query3"
                    },
                    {
                      "formula": "query4"
                    },
                    {
                      "formula": "query5"
                    }
                  ],
                  "queries": [
                    {
                      "name": "query1",
                      "data_source": "metrics",
                      "query": "sum:upstash.qstash.daily_delivered{$team, $region} by {team}"
                    },
                    {
                      "name": "query2",
                      "data_source": "metrics",
                      "query": "sum:upstash.qstash.daily_canceled{$team, $region} by {team}"
                    },
                    {
                      "name": "query3",
                      "data_source": "metrics",
                      "query": "sum:upstash.qstash.daily_error{$team, $region} by {team}"
                    },
                    {
                      "name": "query4",
                      "data_source": "metrics",
                      "query": "sum:upstash.qstash.daily_failed{$team, $region} by {team}"
                    },
                    {
                      "name": "query5",
                      "data_source": "metrics",
                      "query": "sum:upstash.qstash.daily_retry{$team, $region} by {team}"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 6,
              "height": 3
            }
          },
          {
            "id": 6250993055510505,
            "definition": {
              "title": "Daily Bandwidth Historical",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "time": {},
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "byte_in_decimal_bytes_family"
                        },
                        "unit_scale": {
                          "type": "canonical_unit",
                          "unit_name": "megabyte"
                        }
                      },
                      "formula": "query1"
                    }
                  ],
                  "queries": [
                    {
                      "name": "query1",
                      "data_source": "metrics",
                      "query": "sum:upstash.qstash.daily_bandwidth_used{$team, $region} by {team}"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 6,
              "y": 0,
              "width": 6,
              "height": 3
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 5,
        "width": 12,
        "height": 4
      }
    },
    {
      "id": 7905925229467068,
      "definition": {
        "title": "Workflow Metrics",
        "background_color": "green",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 6453793611680027,
            "definition": {
              "title": "Daily Workflow Runs",
              "title_size": "16",
              "title_align": "left",
              "time": {},
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:upstash.qstash.daily_workflow_runs{$team, $region}",
                      "aggregator": "last"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 2
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 2,
              "height": 1
            }
          },
          {
            "id": 8034623827840743,
            "definition": {
              "title": "Daily Workflow Steps",
              "title_size": "16",
              "title_align": "left",
              "time": {},
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:upstash.qstash.daily_workflow_steps{$team, $region}",
                      "aggregator": "last"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 2
            },
            "layout": {
              "x": 2,
              "y": 0,
              "width": 2,
              "height": 1
            }
          },
          {
            "id": 4317021992238446,
            "definition": {
              "title": "Daily Run Success Message",
              "title_size": "16",
              "title_align": "left",
              "time": {},
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:upstash.qstash.daily_workflow_run_success{$team, $region}",
                      "aggregator": "last"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 2
            },
            "layout": {
              "x": 4,
              "y": 0,
              "width": 3,
              "height": 1
            }
          },
          {
            "id": 6222274132102797,
            "definition": {
              "title": "Daily Run Failed Message",
              "title_size": "16",
              "title_align": "left",
              "time": {},
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:upstash.qstash.daily_run_failed_message{$team, $region}",
                      "aggregator": "last"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 2
            },
            "layout": {
              "x": 7,
              "y": 0,
              "width": 3,
              "height": 1
            }
          },
          {
            "id": 3183254169922466,
            "definition": {
              "title": "Daily Run Canceled Message",
              "title_size": "16",
              "title_align": "left",
              "time": {},
              "type": "query_value",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:upstash.qstash.daily_workflow_run_canceled{$team, $region}",
                      "aggregator": "last"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "query1"
                    }
                  ]
                }
              ],
              "autoscale": true,
              "precision": 2
            },
            "layout": {
              "x": 10,
              "y": 0,
              "width": 2,
              "height": 1
            }
          },
          {
            "id": 7145821187061932,
            "definition": {
              "title": "Workflow Status Historical",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "time": {},
              "type": "timeseries",
              "requests": [
                {
                  "formulas": [
                    {
                      "formula": "query1"
                    },
                    {
                      "formula": "query3"
                    },
                    {
                      "formula": "query2"
                    }
                  ],
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:upstash.qstash.daily_workflow_run_success{$team, $region}"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query3",
                      "query": "sum:upstash.qstash.daily_workflow_runs{$team, $region}"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:upstash.qstash.daily_workflow_run_canceled{$team, $region}"
                    }
                  ],
                  "response_format": "timeseries",
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 1,
              "width": 12,
              "height": 3
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 0,
        "width": 12,
        "height": 5,
        "is_column_break": true
      }
    }
  ],
  "template_variables": [
    {
      "name": "team",
      "prefix": "team",
      "available_values": [],
      "default": "*"
    },
    {
      "name": "region",
      "prefix": "region",
      "available_values": [],
      "default": "eu-central-1"
    }
  ],
  "layout_type": "ordered",
  "notify_list": [],
  "reflow_type": "fixed"
}